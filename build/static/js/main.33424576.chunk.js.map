{"version":3,"sources":["components/Logo/logo.svg","components/Logo/Logo.js","components/IconButton/IconButton.js","redux/reducers/builderReducer.js","redux/reducers/catalogReducer.js","redux/reducers/userReducer.js","redux/store.js","BuilderStore.js","components/CollectorButton/CollectorButton.js","components/Header/signIn.svg","components/Header/logout.svg","components/Header/collector.svg","components/Header/menu.svg","utils.js","components/Header/Header.js","components/LoadingCards/LoadingCards.js","hooks/index.js","components/Card/box.svg","components/Card/delete.svg","components/Card/Card.js","views/Catalog/Catalog.js","components/CatalogMenu/CatalogMenu.js","views/DetailCard/load.svg","views/DetailCard/back.svg","views/DetailCard/DetailCard.js","components/Content/Content.js","views/Builder/Builder.js","components/TextField/TextField.js","views/Auth/Auth.js","components/FileUploader/picture.svg","components/FileUploader/FileUploader.js","components/TempImage/TempImage.js","views/Admin/Admin.js","components/PrivateRouter/PrivateRouter.js","App.js","index.js"],"names":["Logo","className","classes","push","join","href","src","logo","alt","IconButton","icon","size","onClick","type","style","width","height","builderSlice","createSlice","name","initialState","count","cards","activeMore","reducers","setCount","state","action","payload","setCards","setActiveMore","actions","catalogSlice","menu","menuActive","components","setMenu","setMenuActive","userSlice","form","user","login","admin","setAuth","setForm","store","configureStore","reducer","catalog","catalogReducer","userReducer","builder","builderReducer","BuilderStore","builderStore","JSON","parse","localStorage","getItem","set","card","existComponent","filter","el","component","changeableStore","setItem","stringify","dispatch","get","delete","CollectorButton","to","builderCount","useSelector","useDispatch","useEffect","formatPrice","price","arrNums","toString","split","length","offset","getFormatRU","splice","checkAuth","a","fetch","req","json","res","console","error","removeAuth","auth","putComponentInBuilder","alert","Header","User","collector","then","logout","signIn","LoadingCards","useInput","React","useState","input","setInput","setError","files","setFiles","onChange","event","target","value","bind","clear","file","ImageChanger","image","imageUpload","accept","ParamChanger","paramValue","field","callback","paramName","onSubmit","e","call","placeholder","Card","params","priceField","countField","url","useRouteMatch","changeImageCard","body","FormData","append","method","ok","window","location","changeIntParam","preventDefault","isNaN","id","headers","removeCard","deleteIcon","boxIcon","Catalog","useParams","loading","setLoading","Error","setTimeout","getComponent","map","uniqid","CatalogMenu","DetailCard","activeBuilderMore","setCard","history","useHistory","apiUrl","getDetailCard","goBack","back","param","load","Content","children","Builder","builderList","setBuilderList","totalPrice","setTotalPrice","arr","forEach","flag","item","cpu","motherboard","ram","cooler","videocard","bp","cpuSocket","mbSocket","find","trim","cpuHeat","coolerHeat","parseInt","mbDDR","ramDDR","vcPower","bpPower","err","TextField","label","autoComplete","Auth","currentForm","setCurrentForm","formActive","setFormActive","authError","setAuthError","password","repeatedPassword","classesRegBtn","classesAuthBtn","addGetUser","message","authHanlder","btnActive","classList","contains","btnName","onMouseDown","cls","authClose","checkForm","reg","fields","checkLength","checkEmpty","checkRepeated","pass","checkInvalid","test","formHandler","FileUploader","pictureIcon","text","model","useRef","ref","current","click","TempImage","upload","URL","createObjectURL","Admin","FormAdderComponent","setParams","setComponent","getParams","componentHandler","fullFields","elements","genetive","PrivateRoute","Component","rest","render","props","App","authActive","authRef","menuRef","CSSTransition","in","nodeRef","timeout","classNames","unmountOnExit","PrivateRouter","path","exact","from","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33424576.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.48926432.svg\";","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './Logo.scss';\r\n\r\nexport default function Logo({ className = '' }) {\r\n    const classes = ['logo'];\r\n\r\n    if (className) classes.push(className);\r\n\r\n    return (\r\n        <a className={classes.join(' ')} href=\"/\">\r\n            <img src={logo} alt=\"Логотип\" />\r\n        </a>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport './IconButton.scss';\r\n\r\nexport default function IconButton({\r\n\ticon,\r\n\tsize = '25px',\r\n\talt = '',\r\n\tclassName = '',\r\n\tonClick = () => {},\r\n\ttype = 'button',\r\n}) {\r\n\tconst classes = ['icon-btn'];\r\n\r\n\tif (className) classes.push(className);\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype={type}\r\n\t\t\tstyle={{ width: size, height: size }}\r\n\t\t\tclassName={classes.join(' ')}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<img className=\"icon-btn__svg\" src={icon} alt={alt} />\r\n\t\t</button>\r\n\t);\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const builderSlice = createSlice({\r\n    name: 'builder',\r\n    initialState: {\r\n        count: 0,\r\n        cards: [],\r\n        activeMore: false,\r\n    },\r\n    reducers: {\r\n        setCount: (state, action) => {\r\n            state.count = action.payload;\r\n        },\r\n        setCards: (state, action) => {\r\n            state.cards = action.payload;\r\n        },\r\n        setActiveMore: (state, action) => {\r\n            state.activeMore = action.payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setCount, setCards, setActiveMore } = builderSlice.actions;\r\nexport default builderSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const catalogSlice = createSlice({\r\n    name: 'catalog',\r\n    initialState: {\r\n        cards: [],\r\n        count: null,\r\n        menu: [],\r\n        menuActive: false,\r\n    },\r\n    reducers: {\r\n        setCards: (state, action) => {\r\n            state.cards = action.payload.components;\r\n            state.count = action.payload.count;\r\n        },\r\n        setMenu: (state, action) => {\r\n            state.menu = action.payload;\r\n        },\r\n        setMenuActive: (state, action) => {\r\n            state.menuActive = !state.menuActive;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setCards, setMenu, setMenuActive } = catalogSlice.actions;\r\nexport default catalogSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState: {\r\n        form: false,\r\n        user: {\r\n            login: '',\r\n            admin: false,\r\n        },\r\n    },\r\n    reducers: {\r\n        setAuth: (state, action) => {\r\n            state.user.login = action.payload.login;\r\n            state.user.admin = action.payload.admin;\r\n        },\r\n        setForm: (state, action) => {\r\n            state.form = action.payload;\r\n        },\r\n    },\r\n});\r\n\r\nexport const { setAuth, setForm } = userSlice.actions;\r\nexport default userSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport catalogReducer from './reducers/catalogReducer';\r\nimport userReducer from './reducers/userReducer';\r\nimport builderReducer from './reducers/builderReducer';\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        catalog: catalogReducer,\r\n        user: userReducer,\r\n        builder: builderReducer,\r\n    },\r\n});\r\n","import { setCount, setCards } from './redux/reducers/builderReducer';\r\nimport { store } from './redux/store';\r\n\r\nfunction BuilderStore() {\r\n    let builderStore = JSON.parse(localStorage.getItem('builderCards')) || [];\r\n    let count = +localStorage.getItem('builderCount') || 0;\r\n\r\n    return {\r\n        set(card) {\r\n            const existComponent = builderStore.filter(\r\n                (el) => el.component === card.component\r\n            )[0];\r\n\r\n            if (existComponent) return false;\r\n            if (!existComponent) {\r\n                const changeableStore = [...builderStore, card];\r\n                localStorage.setItem(\r\n                    'builderCards',\r\n                    JSON.stringify(changeableStore)\r\n                );\r\n                count += 1;\r\n                localStorage.setItem('builderCount', count);\r\n                store.dispatch(setCount(count));\r\n                store.dispatch(setCards(changeableStore));\r\n                return true;\r\n            }\r\n        },\r\n        get() {\r\n            return builderStore;\r\n        },\r\n        delete(card) {\r\n            const changeableStore = builderStore.filter((el) => {\r\n                return el.component !== card.component;\r\n            });\r\n            localStorage.setItem(\r\n                'builderCards',\r\n                JSON.stringify(changeableStore)\r\n            );\r\n            count -= 1;\r\n            store.dispatch(setCount(count));\r\n            store.dispatch(setCards(changeableStore));\r\n            localStorage.setItem('builderCount', count);\r\n        },\r\n        count() {\r\n            return count;\r\n        },\r\n    };\r\n}\r\n\r\nexport default BuilderStore;\r\n","import React, { useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport BuilderStore from './../../BuilderStore';\r\nimport { setCount } from './../../redux/reducers/builderReducer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './CollectorButton.scss';\r\n\r\nexport default function CollectorButton({ src, className, to }) {\r\n    const builderCount = useSelector((state) => state.builder.count);\r\n    const dispatch = useDispatch();\r\n    const classes = ['button', 'primary', 'outlined', 'collector-btn'];\r\n    if (className) classes.push(className);\r\n\r\n    useEffect(() => {\r\n        const count = BuilderStore().count();\r\n        dispatch(setCount(count));\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <NavLink className={classes.join(' ')} to={to}>\r\n            <span className=\"collector-btn__label\">Сборщик</span>\r\n            <div className=\"collector-btn__icon\">\r\n                <img className=\"collector-btn__img\" src={src} alt=\"\" />\r\n                <span className=\"collector-btn__counter\">{builderCount}</span>\r\n            </div>\r\n        </NavLink>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/signIn.5d0f0585.svg\";","export default __webpack_public_path__ + \"static/media/logout.4f1b686b.svg\";","export default __webpack_public_path__ + \"static/media/collector.7069e324.svg\";","export default __webpack_public_path__ + \"static/media/menu.5d8c149d.svg\";","import BuilderStore from './BuilderStore';\r\n\r\nexport const formatPrice = (price) => {\r\n    const arrNums = price.toString().split('');\r\n    const length = arrNums.length;\r\n    let offset = 0;\r\n    if (length > 3 && length < 7) {\r\n        offset = 1;\r\n        while (length - offset !== 3) {\r\n            offset++;\r\n        }\r\n        const firstPart = [...arrNums].splice(0, offset).join('');\r\n        const secondPart = [...arrNums].splice(offset).join('');\r\n        return getFormatRU(firstPart + ' ' + secondPart);\r\n    }\r\n    return getFormatRU(price);\r\n    function getFormatRU(price) {\r\n        return price + ' ₽';\r\n    }\r\n};\r\n\r\nexport const checkAuth = async () => {\r\n    try {\r\n        const req = await fetch('/api/users/auth');\r\n        const res = await req.json();\r\n        if (res.login) {\r\n            return res;\r\n        }\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n};\r\n\r\nexport const removeAuth = async () => {\r\n    try {\r\n        const req = await fetch('/api/users/auth-exit');\r\n        const res = await req.json();\r\n        if (res.auth === false) {\r\n            return res;\r\n        }\r\n        return res;\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n};\r\n\r\nexport const putComponentInBuilder = (card, menu) => {\r\n    const isChange = BuilderStore().set(card);\r\n    if (!isChange) {\r\n        const component = menu.filter(\r\n            (el) => el.component === card.component\r\n        )[0];\r\n        alert(`${component.name} уже лежит в сборщике!`);\r\n    }\r\n};\r\n","import React from 'react';\r\nimport Logo from './../Logo/Logo';\r\nimport IconButton from './../IconButton/IconButton';\r\nimport CollectorButton from './../CollectorButton/CollectorButton';\r\nimport signIn from './signIn.svg';\r\nimport logout from './logout.svg';\r\nimport collector from './collector.svg';\r\nimport menu from './menu.svg';\r\n//import { useHistory } from 'react-router-dom';\r\nimport { setAuth, setForm } from './../../redux/reducers/userReducer';\r\nimport { setMenuActive } from './../../redux/reducers/catalogReducer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { removeAuth } from './../../utils';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.scss';\r\n\r\nexport default function Header() {\r\n    //const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((state) => state.user.user);\r\n\r\n    const openAuthFrom = () => {\r\n        dispatch(setForm(true));\r\n    };\r\n\r\n    const leaveAuth = () => {\r\n        removeAuth().then((res) => {\r\n            if (!res.auth) {\r\n                dispatch(\r\n                    setAuth({\r\n                        login: '',\r\n                        admin: false,\r\n                    })\r\n                );\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__inner container\">\r\n                <div className=\"header-block\">\r\n                    <IconButton\r\n                        onClick={() => {\r\n                            dispatch(setMenuActive());\r\n                        }}\r\n                        icon={menu}\r\n                        className=\"header__btn-menu\"\r\n                        size={30}\r\n                    />\r\n                    <Logo className=\"header__logo\" />\r\n                    {/* <Menu /> */}\r\n                </div>\r\n                <div className=\"header-block\">\r\n                    {user.login ? <User user={user} /> : null}\r\n                    <CollectorButton\r\n                        className=\"header__btn-collector\"\r\n                        src={collector}\r\n                        to={'/builder'}\r\n                        alt=\"collector\"\r\n                    />\r\n                    {user.login ? (\r\n                        <IconButton\r\n                            onClick={() => {\r\n                                leaveAuth();\r\n                            }}\r\n                            className=\"header__btn-acc\"\r\n                            icon={logout}\r\n                            alt=\"leaveAuth\"\r\n                        />\r\n                    ) : (\r\n                        <IconButton\r\n                            onClick={() => {\r\n                                openAuthFrom();\r\n                            }}\r\n                            className=\"header__btn-acc\"\r\n                            icon={signIn}\r\n                            alt=\"signIn\"\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nfunction User({ user }) {\r\n    return user.admin ? (\r\n        <Link className=\"header__user\" to={'/admin'}>\r\n            {user.login}\r\n        </Link>\r\n    ) : (\r\n        <span className=\"header__user\">{user.login}</span>\r\n    );\r\n}\r\n\r\n// function Menu() {\r\n//     return (\r\n//         <nav className=\"menu\">\r\n//             <ul className=\"menu__inner\">\r\n//                 <li className=\"menu__item\">\r\n//                     <a href=\"/#\" className=\"menu__link\">\r\n//                         Инструкция\r\n//                     </a>\r\n//                 </li>\r\n//                 <li className=\"menu__item\">\r\n//                     <a href=\"/#\" className=\"menu__link\">\r\n//                         О проекте\r\n//                     </a>\r\n//                 </li>\r\n//             </ul>\r\n//         </nav>\r\n//     );\r\n// }\r\n","import React from 'react';\r\nimport './LoadingCards.scss';\r\n\r\nfunction LoadingCards({ className }) {\r\n    return (\r\n        <div className={`load-cards ${className}`}>\r\n            <div className=\"load-cards__card\"></div>\r\n            <div className=\"load-cards__card\"></div>\r\n            <div className=\"load-cards__card\"></div>\r\n            <div className=\"load-cards__card\"></div>\r\n            <div className=\"load-cards__card\"></div>\r\n            <div className=\"load-cards__card\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoadingCards;\r\n","import React from 'react';\r\n\r\nexport function useInput(state) {\r\n    const [input, setInput] = React.useState(state);\r\n    const [error, setError] = React.useState('');\r\n    const [files, setFiles] = React.useState([]);\r\n\r\n    const onChange = (event) => {\r\n        if (event.target.files) {\r\n            setFiles(event.target.files);\r\n        }\r\n        setInput(event.target.value);\r\n    };\r\n\r\n    return {\r\n        bind() {\r\n            return { value: input, onChange };\r\n        },\r\n        clear() {\r\n            if (files.length) setFiles([]);\r\n            setInput('');\r\n        },\r\n        value() {\r\n            return input;\r\n        },\r\n        files(file = 'multiple') {\r\n            if (file === 0) return files[0];\r\n            return files;\r\n        },\r\n        setError(error) {\r\n            setError(error);\r\n        },\r\n        error() {\r\n            return error;\r\n        },\r\n    };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/box.bce4c553.svg\";","export default __webpack_public_path__ + \"static/media/delete.10fd48a1.svg\";","import React, { useEffect } from 'react';\r\nimport { formatPrice } from './../../utils';\r\nimport BuilderStore from './../../BuilderStore';\r\nimport IconButton from './../IconButton/IconButton';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { setActiveMore } from './../../redux/reducers/builderReducer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { putComponentInBuilder } from './../../utils';\r\nimport { useInput } from './../../hooks';\r\nimport boxIcon from './box.svg';\r\nimport deleteIcon from './delete.svg';\r\nimport './Card.scss';\r\n\r\nfunction Card({ card, builder = false }) {\r\n    const params = JSON.parse(card.params);\r\n    const dispatch = useDispatch();\r\n    const menu = useSelector((state) => state.catalog.menu);\r\n    const user = useSelector((state) => state.user.user);\r\n    const activeMore = useSelector((state) => state.builder.activeMore);\r\n    const imageUpload = useInput('');\r\n    const priceField = useInput('');\r\n    const countField = useInput('');\r\n    const { url } = useRouteMatch();\r\n\r\n    useEffect(() => {\r\n        if (imageUpload.value()) {\r\n            changeImageCard(card, imageUpload);\r\n        }\r\n    }, [imageUpload, card]);\r\n\r\n    const changeImageCard = async (card, imageUpload) => {\r\n        try {\r\n            const body = new FormData();\r\n            body.append('image', imageUpload.files(0));\r\n            body.append('imageName', card.image);\r\n\r\n            const req = await fetch(`/api/component/update-image`, {\r\n                method: 'PUT',\r\n                body,\r\n            });\r\n            if (req.ok) {\r\n                window.location.href = `/cards/${card.component}`;\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    const changeIntParam = async (e, field, paramName) => {\r\n        try {\r\n            e.preventDefault();\r\n            if (isNaN(+field.value())) return;\r\n            if (card[paramName] === +field.value()) return;\r\n            const req = await fetch(\r\n                `/api/component/${paramName}/${card.component}/${card.id}`,\r\n                {\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Content-Type': 'application/json;charset=utf-8',\r\n                    },\r\n                    body: JSON.stringify({ [paramName]: field.value() }),\r\n                }\r\n            );\r\n            if (req.ok) {\r\n                window.location.href = `/cards/${card.component}`;\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    const activeBuilderMore = () => {\r\n        if (builder) {\r\n            if (!activeMore) {\r\n                dispatch(setActiveMore(true));\r\n            }\r\n        } else {\r\n            if (activeMore) {\r\n                dispatch(setActiveMore(false));\r\n            }\r\n        }\r\n    };\r\n\r\n    const removeCard = async (image) => {\r\n        try {\r\n            const body = new FormData();\r\n            body.append('imageName', image);\r\n            const req = await fetch(\r\n                `/api/component/${card.component}/${card.id}`,\r\n                {\r\n                    method: 'DELETE',\r\n                    body,\r\n                }\r\n            );\r\n            if (req.ok) {\r\n                window.location.href = `/cards/${card.component}`;\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card__inner\">\r\n                {user.admin && !builder ? (\r\n                    <ImageChanger\r\n                        image={card.image}\r\n                        imageUpload={imageUpload}\r\n                    />\r\n                ) : (\r\n                    <div className=\"card__block-image\">\r\n                        <img\r\n                            className=\"card__image\"\r\n                            src={'../' + card.image}\r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                )}\r\n                <div className=\"card__info\">\r\n                    <h2 className=\"card__name\">{card.name}</h2>\r\n                    <div className=\"card__params\">\r\n                        <div className=\"card__param\">\r\n                            {params[0].name}: {params[0].value}\r\n                        </div>\r\n                        <div className=\"card__param\">\r\n                            {params[1].name}: {params[1].value}\r\n                        </div>\r\n                        <div className=\"card__param\">\r\n                            {params[2].name}: {params[2].value}\r\n                        </div>\r\n                    </div>\r\n                    <Link\r\n                        className=\"primary card__more\"\r\n                        onClick={() => activeBuilderMore()}\r\n                        to={`${builder ? `cards/${card.component}` : url}/${\r\n                            card.id\r\n                        }`}\r\n                    >\r\n                        подробнее\r\n                    </Link>\r\n                </div>\r\n\r\n                {user.admin && !builder ? (\r\n                    <ParamChanger\r\n                        paramValue={card.count}\r\n                        field={countField}\r\n                        callback={changeIntParam}\r\n                        paramName={'count'}\r\n                    />\r\n                ) : (\r\n                    <span className=\"card__count\">{card.count || 0} шт.</span>\r\n                )}\r\n\r\n                {user.admin && !builder ? (\r\n                    <div\r\n                        onClick={() => removeCard(card.image)}\r\n                        className=\"card__del\"\r\n                    >\r\n                        &times;\r\n                    </div>\r\n                ) : null}\r\n\r\n                {user.admin && !builder ? (\r\n                    <ParamChanger\r\n                        paramValue={card.price}\r\n                        field={priceField}\r\n                        callback={changeIntParam}\r\n                        paramName={'price'}\r\n                    />\r\n                ) : (\r\n                    <span className=\"card__price\">\r\n                        {formatPrice(card.price)}\r\n                    </span>\r\n                )}\r\n\r\n                {!builder ? (\r\n                    <IconButton\r\n                        className=\"card__btn-box\"\r\n                        onClick={() => {\r\n                            putComponentInBuilder(card, menu);\r\n                        }}\r\n                        icon={boxIcon}\r\n                        size={40}\r\n                    />\r\n                ) : (\r\n                    <IconButton\r\n                        className=\"card__btn-del\"\r\n                        onClick={() => {\r\n                            BuilderStore().delete(card);\r\n                        }}\r\n                        icon={deleteIcon}\r\n                        size={30}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ImageChanger({ image, imageUpload }) {\r\n    return (\r\n        <div className=\"card__block-image\">\r\n            <label className=\"card-img-changer\">\r\n                <img className=\"card__image\" src={'../' + image} alt=\"\" />\r\n                <input {...imageUpload.bind()} type=\"file\" accept=\"image/*\" />\r\n            </label>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ParamChanger({ paramValue, field, callback, paramName }) {\r\n    return (\r\n        <form onSubmit={(e) => callback.call(null, e, field, paramName)}>\r\n            <input\r\n                className={`card__${paramName}-changer`}\r\n                type=\"text\"\r\n                placeholder={paramValue}\r\n                {...field.bind()}\r\n            />\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setCards } from '../../redux/reducers/catalogReducer';\r\nimport LoadingCards from '../../components/LoadingCards/LoadingCards';\r\nimport uniqid from 'uniqid';\r\nimport Card from './../../components/Card/Card';\r\nimport './Catalog.scss';\r\n\r\nexport default function Catalog() {\r\n    let { component } = useParams();\r\n    const dispatch = useDispatch();\r\n    const components = useSelector((state) => state.catalog.cards);\r\n    //const count = useSelector((state) => state.catalog.count);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const getComponent = (component) => {\r\n        return async (dispatch) => {\r\n            try {\r\n                setLoading(true);\r\n                const req = await fetch(`/api/component/${component}`);\r\n                const res = await req.json();\r\n                if (!req.ok) {\r\n                    throw new Error('Комплектующих нет!');\r\n                }\r\n                setTimeout(() => {\r\n                    setLoading(false);\r\n                    dispatch(setCards(res));\r\n                }, 300);\r\n            } catch (e) {\r\n                setLoading(true);\r\n                dispatch(setCards([]));\r\n            }\r\n        };\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(getComponent(component));\r\n    }, [component, dispatch]);\r\n\r\n    return (\r\n        <div className=\"catalog\">\r\n            <div className=\"catalog__inner\">\r\n                {!loading ? (\r\n                    <>\r\n                        <div className=\"catalog__filter\"></div>\r\n                        <div className=\"catalog__content\">\r\n                            {components.map((card) => (\r\n                                <Card key={uniqid()} card={card} />\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <LoadingCards />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setMenu } from './../../redux/reducers/catalogReducer';\r\nimport uniqid from 'uniqid';\r\nimport './CatalogMenu.scss';\r\n\r\nexport default function CatalogMenu({ className }) {\r\n    const menu = useSelector((state) => state.catalog.menu);\r\n    const dispatch = useDispatch();\r\n    const getMenu = () => {\r\n        return async (dispatch) => {\r\n            try {\r\n                const req = await fetch('/api/menu');\r\n                const res = await req.json();\r\n                dispatch(setMenu(res));\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        };\r\n    };\r\n    useEffect(() => {\r\n        dispatch(getMenu());\r\n    }, [dispatch]);\r\n\r\n    const classes = ['catalog-menu'];\r\n\r\n    if (className) classes.push(className);\r\n\r\n    return (\r\n        <nav className={classes.join(' ')}>\r\n            <ul className=\"catalog-menu__inner\">\r\n                {menu.map((el) => (\r\n                    <li key={uniqid()} className=\"catalog-menu__item\">\r\n                        <NavLink to={'/cards/' + el.component}>\r\n                            <div className=\"catalog-menu__image\">\r\n                                <img src={'/' + el.icon} alt=\"\" />\r\n                            </div>\r\n                            {el.name}\r\n                        </NavLink>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/load.8c920fc0.svg\";","export default __webpack_public_path__ + \"static/media/back.a4f7b311.svg\";","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useRouteMatch, useHistory } from 'react-router-dom';\r\nimport { formatPrice } from './../../utils';\r\nimport IconButton from './../../components/IconButton/IconButton';\r\nimport { useSelector } from 'react-redux';\r\nimport { putComponentInBuilder } from './../../utils';\r\nimport uniqid from 'uniqid';\r\nimport load from './load.svg';\r\nimport back from './back.svg';\r\nimport './DetailCard.scss';\r\n\r\nfunction DetailCard() {\r\n    const activeBuilderMore = useSelector((state) => state.builder.activeMore);\r\n    const menu = useSelector((state) => state.catalog.menu);\r\n    const [card, setCard] = useState(null);\r\n    const { id } = useParams();\r\n    const { url } = useRouteMatch();\r\n    const history = useHistory();\r\n    const component = url.split('/')[2];\r\n    const apiUrl = `/api/component/${component}/${id}`;\r\n\r\n    const formatParams = (params) => {\r\n        return params.map((param) => {\r\n            return (\r\n                <div key={uniqid()} className=\"card-detail__param\">\r\n                    <span className=\"param-name\">{param.name}:</span>{' '}\r\n                    <span className=\"param-value\">{param.value}</span>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    const getDetailCard = async (url, history, component) => {\r\n        try {\r\n            const req = await fetch(url);\r\n            const res = await req.json();\r\n            if (!req.ok) {\r\n                throw new Error(res.error);\r\n            }\r\n            setTimeout(() => {\r\n                setCard(res);\r\n            }, 300);\r\n        } catch (e) {\r\n            return history.push(`/cards/${component}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getDetailCard(apiUrl, history, component);\r\n    }, [history, apiUrl, component]);\r\n\r\n    return card ? (\r\n        <div className=\"card-detail\">\r\n            <IconButton\r\n                onClick={() => {\r\n                    history.goBack();\r\n                }}\r\n                className=\"card-detail__back\"\r\n                icon={back}\r\n                size={28}\r\n            />\r\n            <h2 className=\"card-detail__name\">{card.name}</h2>\r\n            <div className=\"card-detail__inner\">\r\n                <div className=\"card-detail__block\">\r\n                    <div className=\"card-detail__image\">\r\n                        <img\r\n                            className=\"card-detail__image\"\r\n                            src={`../../${card.image}`}\r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"card-detail__main\">\r\n                        <div className=\"card-detail__count\">\r\n                            <span>\r\n                                На складе{' '}\r\n                                <b className=\"primary\">{card.count} шт.</b>\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"card-detail__price\">\r\n                            <span>Стоимость</span>\r\n                            <b className=\"primary\">{formatPrice(card.price)}</b>\r\n                        </div>\r\n                        {activeBuilderMore ? null : (\r\n                            <button\r\n                                onClick={() =>\r\n                                    putComponentInBuilder(card, menu)\r\n                                }\r\n                                className=\"button primary outlined in-builder\"\r\n                            >\r\n                                В сборку!\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-detail__block params\">\r\n                    <div className=\"card-detail__params\">\r\n                        {formatParams(JSON.parse(card.params)).map(\r\n                            (param) => param\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <img src={load} alt=\"\" />\r\n    );\r\n}\r\n\r\nexport default DetailCard;\r\n","import React from 'react';\r\nimport './Content.scss';\r\n\r\nexport default function Content({ children }) {\r\n\treturn (\r\n\t\t<main className=\"content\">\r\n\t\t\t<div className=\"content__inner container\">{children}</div>\r\n\t\t</main>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Card from './../../components/Card/Card';\r\nimport uniqid from 'uniqid';\r\nimport { formatPrice } from './../../utils';\r\nimport './Builder.scss';\r\n\r\nfunction Builder() {\r\n    const menu = useSelector((state) => state.catalog.menu);\r\n    const components = useSelector((state) => state.builder.cards);\r\n    const [builderList, setBuilderList] = useState([]);\r\n    const [error, setError] = useState([]);\r\n    const [totalPrice, setTotalPrice] = useState('');\r\n\r\n    useEffect(() => {\r\n        let arr = [];\r\n        menu.forEach((el) => {\r\n            let flag = true;\r\n            components.forEach((item) => {\r\n                if (item.component === el.component) {\r\n                    flag = false;\r\n                    return arr.push(item);\r\n                }\r\n            });\r\n            if (flag) arr.push(el);\r\n        });\r\n\r\n        setBuilderList(arr);\r\n    }, [menu, components]);\r\n\r\n    useEffect(() => {\r\n        const error = [];\r\n        let totalPrice = 0;\r\n        let cpu = null;\r\n        let motherboard = null;\r\n        let ram = null;\r\n        let cooler = null;\r\n        let videocard = null;\r\n        let bp = null;\r\n        let cpuSocket = null;\r\n        let mbSocket = null;\r\n        let coolerSocket = null;\r\n        builderList.forEach((el) => {\r\n            if (el.count >= 0) {\r\n                totalPrice += el.price;\r\n                switch (el.component) {\r\n                    case 'cpu':\r\n                        cpu = JSON.parse(el.params);\r\n                        break;\r\n                    case 'motherboard':\r\n                        motherboard = JSON.parse(el.params);\r\n                        break;\r\n                    case 'ram':\r\n                        ram = JSON.parse(el.params);\r\n                        break;\r\n                    case 'cooler':\r\n                        cooler = JSON.parse(el.params);\r\n                        break;\r\n                    case 'videocard':\r\n                        videocard = JSON.parse(el.params);\r\n                        break;\r\n                    case 'bp':\r\n                        bp = JSON.parse(el.params);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (cpu && motherboard) {\r\n            cpuSocket = cpu.filter((el) => el.name === 'Сокет')[0];\r\n            mbSocket = motherboard.filter((el) => el.name === 'Сокет')[0];\r\n            if (cpuSocket.value !== mbSocket.value) {\r\n                error.push(\r\n                    'Процессор не подходит к материнской плате по сокету'\r\n                );\r\n            }\r\n        }\r\n\r\n        if (motherboard && cooler) {\r\n            if (!mbSocket) {\r\n                mbSocket = motherboard.filter((el) => el.name === 'Сокет')[0];\r\n            }\r\n            coolerSocket = cooler.filter((el) => el.name === 'Сокет')[0];\r\n\r\n            const arr = coolerSocket.value.split(',');\r\n            const el = arr.find((el) => el.trim() === mbSocket.value);\r\n            if (!el) {\r\n                error.push(\r\n                    'Охлаждение не подходит к материнской плате по сокету'\r\n                );\r\n            }\r\n        }\r\n\r\n        if (cpu && cooler) {\r\n            const cpuHeat = cpu.filter((el) => el.name === 'Тепловыделение')[0];\r\n            const coolerHeat = cooler.filter(\r\n                (el) => el.name === 'Тепловыделение процессора'\r\n            )[0];\r\n            if (parseInt(cpuHeat.value) > parseInt(coolerHeat.value)) {\r\n                error.push(\r\n                    'Охлаждение не подходит по тепловыделению процессора'\r\n                );\r\n            }\r\n        }\r\n\r\n        if (motherboard && ram) {\r\n            const mbDDR = motherboard.filter(\r\n                (el) => el.name === 'Тип поддерживаемой памяти'\r\n            )[0];\r\n            const ramDDR = ram.filter((el) => el.name === 'Тип памяти')[0];\r\n            if (mbDDR.value !== ramDDR.value) {\r\n                error.push('Оперативная память не подходит по DDR');\r\n            }\r\n        }\r\n\r\n        if (videocard && bp) {\r\n            const vcPower = videocard.filter(\r\n                (el) => el.name === 'Мощность блока питания'\r\n            )[0];\r\n            const bpPower = bp.filter((el) => el.name === 'Мощность')[0];\r\n            if (vcPower.value !== bpPower.value) {\r\n                error.push(\r\n                    `Рекомендуемая мощность блока питания ${vcPower.value}`\r\n                );\r\n            }\r\n        }\r\n\r\n        setTotalPrice(totalPrice);\r\n        setError(error);\r\n    }, [builderList]);\r\n\r\n    return (\r\n        <div className=\"builder\">\r\n            {totalPrice ? (\r\n                <span>\r\n                    Стоимость сборки{' '}\r\n                    <b className=\"primary\">{formatPrice(totalPrice)}</b>\r\n                </span>\r\n            ) : null}\r\n            {error.map((err) => {\r\n                return (\r\n                    <div key={uniqid()} className=\"builder__error\">\r\n                        {err}\r\n                    </div>\r\n                );\r\n            })}\r\n            <div className=\"builder-list\">\r\n                {builderList.map((el) => {\r\n                    if (el.params) {\r\n                        return <Card key={uniqid()} card={el} builder={true} />;\r\n                    } else {\r\n                        return (\r\n                            <div className=\"builder__item\" key={uniqid()}>\r\n                                {el.name}\r\n                            </div>\r\n                        );\r\n                    }\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Builder;\r\n","import React from 'react';\r\nimport './TextField.scss';\r\n\r\nfunction TextField({\r\n    label,\r\n    name,\r\n    type = 'text',\r\n    placeholder = '',\r\n    field = { bind: () => null, error: () => null },\r\n}) {\r\n    return (\r\n        <label className=\"text-field\">\r\n            <span className=\"text-field__label\">{label}</span>\r\n            <input\r\n                className=\"input primary text-field__input\"\r\n                name={name}\r\n                type={type}\r\n                autoComplete={'on'}\r\n                placeholder={placeholder}\r\n                {...field.bind()}\r\n            />\r\n            <span className=\"text-field__error\">{field.error()}</span>\r\n        </label>\r\n    );\r\n}\r\n\r\nexport default TextField;\r\n","import React, { useState } from 'react';\r\nimport TextField from '../../components/TextField/TextField';\r\nimport { useInput } from './../../hooks';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setForm, setAuth } from './../../redux/reducers/userReducer';\r\nimport { checkAuth } from './../../utils';\r\nimport './Auth.scss';\r\n\r\nfunction Auth() {\r\n    const [currentForm, setCurrentForm] = useState('auth');\r\n    const [formActive, setFormActive] = useState(true);\r\n    const [authError, setAuthError] = useState('');\r\n    const dispatch = useDispatch();\r\n    const login = useInput('');\r\n    const password = useInput('');\r\n    const repeatedPassword = useInput('');\r\n    const classesRegBtn = ['auth__reg-btn'];\r\n    const classesAuthBtn = ['auth__auth-btn'];\r\n    if (currentForm === 'reg') classesRegBtn.push('active');\r\n    if (currentForm === 'auth') classesAuthBtn.push('active');\r\n\r\n    const addGetUser = async (body, url) => {\r\n        try {\r\n            const req = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8',\r\n                },\r\n                body: JSON.stringify(body),\r\n            });\r\n            const res = await req.json();\r\n            if (!req.ok) throw res.message;\r\n            if (res.auth) {\r\n                setAuthError('');\r\n                checkAuth().then((res) => {\r\n                    dispatch(\r\n                        setAuth({\r\n                            login: res.login,\r\n                            admin: res.admin,\r\n                        })\r\n                    );\r\n                    dispatch(setForm(false));\r\n                });\r\n            }\r\n        } catch (e) {\r\n            setAuthError(e);\r\n        }\r\n    };\r\n\r\n    const formHandler = (e) => {\r\n        e.preventDefault();\r\n        if (!formActive) return setFormActive(true);\r\n\r\n        function checkForm(login, password, repeatedPassword) {\r\n            let reg = false;\r\n            const arr = [];\r\n            const fields = [login, password];\r\n            if (repeatedPassword) {\r\n                fields.push(repeatedPassword);\r\n                reg = true;\r\n            }\r\n\r\n            checkEmpty(fields);\r\n            if (reg) {\r\n                checkRepeated(password, repeatedPassword);\r\n            }\r\n\r\n            return arr.length < 1;\r\n\r\n            function checkEmpty(fields) {\r\n                fields.forEach((field) => {\r\n                    if (field.value().trim() === '') {\r\n                        field.setError('Введите значение');\r\n                        arr.push(1);\r\n                    } else {\r\n                        if (field.error()) field.setError('');\r\n                        checkLength(login);\r\n                        checkLength(password, true);\r\n                    }\r\n                });\r\n            }\r\n            function checkLength(field, pass) {\r\n                if (!pass) {\r\n                    if (\r\n                        field.value().length > 1 &&\r\n                        field.value().length <= 16\r\n                    ) {\r\n                        if (field.error()) field.setError('');\r\n                        checkInvalid(login, 'login');\r\n                    } else {\r\n                        field.setError('Логин от 2 до 16 символов');\r\n                        arr.push(1);\r\n                    }\r\n                } else {\r\n                    if (\r\n                        field.value().length > 3 &&\r\n                        field.value().length <= 32\r\n                    ) {\r\n                        if (field.error()) field.setError('');\r\n                        checkInvalid(password, 'password');\r\n                    } else {\r\n                        field.setError('Пароль от 4 до 32 символов');\r\n                        arr.push(1);\r\n                    }\r\n                }\r\n            }\r\n            function checkInvalid(field, name) {\r\n                switch (name) {\r\n                    case 'login':\r\n                        if (!/^[a-zA-Z](.[a-zA-Z0-9_]*)$/.test(field.value())) {\r\n                            field.setError('Некорректный логин');\r\n                            arr.push(1);\r\n                        } else {\r\n                            if (field.error()) field.setError('');\r\n                        }\r\n                        break;\r\n                    case 'password':\r\n                        if (\r\n                            !/^[a-zA-Z0-9!@#$%^&*]{4,32}$/.test(field.value())\r\n                        ) {\r\n                            field.setError('Некорректный пароль');\r\n                            arr.push(1);\r\n                        } else {\r\n                            if (field.error()) field.setError('');\r\n                        }\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n            }\r\n            function checkRepeated(password, repeatedPassword) {\r\n                if (\r\n                    password.value().trim() !== repeatedPassword.value().trim()\r\n                ) {\r\n                    arr.push(1);\r\n                    repeatedPassword.setError('Пароль не совпадает');\r\n                } else {\r\n                    if (repeatedPassword.error()) repeatedPassword.setError('');\r\n                }\r\n            }\r\n        }\r\n\r\n        const body = {\r\n            login: login.value(),\r\n            password: password.value(),\r\n        };\r\n\r\n        if (currentForm === 'reg') {\r\n            body.repeatedPassword = repeatedPassword.value();\r\n            if (checkForm(login, password, repeatedPassword)) {\r\n                addGetUser(body, '/api/users/add');\r\n            }\r\n        } else {\r\n            if (checkForm(login, password)) {\r\n                addGetUser(body, '/api/users/login');\r\n            }\r\n        }\r\n    };\r\n\r\n    const authHanlder = (e) => {\r\n        const btnActive = e.target.classList.contains('active');\r\n        const btnName = e.target.name;\r\n        if (!btnActive) {\r\n            setFormActive(false);\r\n            if (login.error()) login.setError();\r\n            if (password.error()) password.setError();\r\n            if (repeatedPassword.error()) repeatedPassword.setError();\r\n            if (authError) setAuthError('');\r\n            setCurrentForm(btnName);\r\n            return;\r\n        }\r\n    };\r\n\r\n    const authClose = (e) => {\r\n        const cls = e.target.className;\r\n        if (cls === 'auth' || cls === 'auth__close') {\r\n            dispatch(setForm(false));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div onMouseDown={(e) => authClose(e)} className=\"auth\">\r\n            <form className=\"auth__form\" onSubmit={(e) => formHandler(e)}>\r\n                <span className=\"auth__close\">&times;</span>\r\n                <h2 className=\"primary auth__title\">\r\n                    {currentForm === 'reg' ? 'Регистрация' : 'Авторизация'}\r\n                </h2>\r\n                <TextField label=\"Логин\" name=\"login\" field={login} />\r\n                <TextField\r\n                    label=\"Пароль\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    field={password}\r\n                />\r\n                {currentForm === 'reg' ? (\r\n                    <TextField\r\n                        label=\"Повторный пароль\"\r\n                        name=\"repeat-password\"\r\n                        type=\"password\"\r\n                        field={repeatedPassword}\r\n                    />\r\n                ) : null}\r\n\r\n                <span className=\"auth__error\">{authError}</span>\r\n\r\n                <div className=\"auth__buttons\">\r\n                    <button\r\n                        onClick={(e) => {\r\n                            authHanlder(e);\r\n                        }}\r\n                        className={classesRegBtn.join(' ')}\r\n                        name={'reg'}\r\n                        type={currentForm === 'reg' ? 'submit' : 'button'}\r\n                    >\r\n                        Регистрация\r\n                    </button>\r\n                    <button\r\n                        onClick={(e) => {\r\n                            authHanlder(e);\r\n                        }}\r\n                        name={'auth'}\r\n                        type={currentForm === 'auth' ? 'submit' : 'button'}\r\n                        className={classesAuthBtn.join(' ')}\r\n                    >\r\n                        Войти\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/picture.c710575b.svg\";","import React from 'react';\r\nimport IconButton from '../IconButton/IconButton';\r\nimport pictureIcon from './picture.svg';\r\nimport './FileUploader.scss';\r\n\r\nexport default function FileUploader({\r\n    file,\r\n    className = '',\r\n    icon = pictureIcon,\r\n    text = 'Загрузить картинку',\r\n    model = 'icon',\r\n    accept = 'image/*',\r\n}) {\r\n    const input = React.useRef(null);\r\n\r\n    const uploadHandler = () => {\r\n        input.current.click();\r\n    };\r\n\r\n    const classes = ['file-uploader'];\r\n\r\n    if (className) classes.push(className);\r\n\r\n    return (\r\n        <label className={classes.join(' ')}>\r\n            <input\r\n                ref={input}\r\n                accept={accept}\r\n                className=\"file-uploader__input\"\r\n                type=\"file\"\r\n                {...file.bind()}\r\n            />\r\n            {model === 'icon' ? (\r\n                <IconButton\r\n                    onClick={() => {\r\n                        uploadHandler();\r\n                    }}\r\n                    icon={pictureIcon}\r\n                />\r\n            ) : (\r\n                <div className=\"file-uploader__inner\">\r\n                    <img src={icon} alt=\"\" />\r\n                    <span>{text}</span>\r\n                </div>\r\n            )}\r\n        </label>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport './TempImage.scss';\r\n\r\nfunction TempImage({ upload, size = '120px' }) {\r\n    return (\r\n        <div className=\"temp-image\">\r\n            <img\r\n                className=\"temp-image__image\"\r\n                height={size}\r\n                src={URL.createObjectURL(upload.files(0))}\r\n                alt=\"\"\r\n            />\r\n            <span\r\n                onClick={() => upload.clear()}\r\n                className=\"close temp-image__close\"\r\n            >\r\n                &times;\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TempImage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useInput } from './../../hooks';\r\nimport FileUploader from '../../components/FileUploader/FileUploader';\r\nimport TempImage from './../../components/TempImage/TempImage';\r\nimport TextField from './../../components/TextField/TextField';\r\nimport uniqid from 'uniqid';\r\nimport './Admin.scss';\r\n\r\nexport default function Admin() {\r\n    const menu = useSelector((state) => state.catalog.menu);\r\n\r\n    return (\r\n        <div className=\"admin\">\r\n            <h2 className=\"admin__title\">ADMIN PANEL</h2>\r\n            {menu.length ? <FormAdderComponent menu={menu} /> : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction FormAdderComponent({ menu }) {\r\n    const [params, setParams] = useState([]);\r\n    const [component, setComponent] = useState(menu[0].component);\r\n    const current = menu.filter((el) => el.component === component)[0];\r\n    const imageUpload = useInput('');\r\n\r\n    useEffect(() => {\r\n        getParams(component);\r\n    }, [component]);\r\n\r\n    const componentHandler = async (e) => {\r\n        const component = e.target.value;\r\n        setComponent(component);\r\n    };\r\n\r\n    const getParams = async (component) => {\r\n        try {\r\n            const req = await fetch(`/api/params/${component}`);\r\n            const res = await req.json();\r\n            setParams(res);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    const formHandler = async (e) => {\r\n        e.preventDefault();\r\n        const form = e.target;\r\n        let fullFields = true;\r\n\r\n        if (!form.elements['Название'] && !form.elements['Цена']) {\r\n            fullFields = false;\r\n        }\r\n\r\n        params.forEach((param) => {\r\n            if (!form.elements[param.name].value) {\r\n                fullFields = false;\r\n            }\r\n        });\r\n\r\n        if (!imageUpload.files(0)) return alert('Загрузите картинку!');\r\n        if (!fullFields) return alert('Заполните все поля!');\r\n\r\n        const body = new FormData(e.target);\r\n        body.append('image', imageUpload.files(0));\r\n        try {\r\n            const req = await fetch('/api/component/add', {\r\n                method: 'POST',\r\n                body,\r\n            });\r\n            const res = await req.text();\r\n            imageUpload.clear();\r\n            params.forEach((param) => {\r\n                form.elements[param.name].value = '';\r\n            });\r\n            form.elements['Название'].value = '';\r\n            form.elements['Цена'].value = '';\r\n            return alert(res);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form\r\n            className=\"form-adder\"\r\n            onSubmit={(e) => formHandler(e)}\r\n            action=\"#\"\r\n        >\r\n            <select\r\n                onChange={(e) => componentHandler(e)}\r\n                name=\"component\"\r\n                value={component}\r\n            >\r\n                {menu.map((el) => (\r\n                    <option key={uniqid()} value={el.component}>\r\n                        {el.name}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n\r\n            <FileUploader\r\n                className=\"form-adder__upload\"\r\n                file={imageUpload}\r\n                model=\"txt\"\r\n            />\r\n            {imageUpload.files(0) ? <TempImage upload={imageUpload} /> : null}\r\n\r\n            <TextField name={'Название'} label={'Название'} />\r\n            <TextField name={'Цена'} label={'Цена'} type=\"number\" />\r\n            <TextField\r\n                name={'Количество на складе'}\r\n                label={'Количество на складе'}\r\n                type=\"number\"\r\n            />\r\n\r\n            {params.map((param) => (\r\n                <TextField\r\n                    key={uniqid()}\r\n                    name={param.name}\r\n                    label={param.name}\r\n                />\r\n            ))}\r\n\r\n            <div className=\"wrapper-btn\">\r\n                <button className=\"button primary form-adder__btn\">\r\n                    Добавить {current.genetive}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, admin, ...rest }) => {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => {\r\n                return admin ? <Component {...props} /> : <Redirect to=\"/\" />;\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Header from './components/Header/Header';\r\nimport Catalog from './views/Catalog/Catalog';\r\nimport CatalogMenu from './components/CatalogMenu/CatalogMenu';\r\nimport DetailCard from './views/DetailCard/DetailCard';\r\nimport Content from './components/Content/Content';\r\nimport Builder from './views/Builder/Builder';\r\nimport Auth from './views/Auth/Auth';\r\nimport Admin from './views/Admin/Admin';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setCards } from './redux/reducers/builderReducer';\r\nimport { setAuth } from './redux/reducers/userReducer';\r\nimport { checkAuth } from './utils';\r\nimport PrivateRouter from './components/PrivateRouter/PrivateRouter';\r\nimport BuilderStore from './BuilderStore';\r\n\r\nexport default function App() {\r\n    const authActive = useSelector((state) => state.user.form);\r\n    const user = useSelector((state) => state.user.user);\r\n    const menuActive = useSelector((state) => state.catalog.menuActive);\r\n    const authRef = useRef();\r\n    const menuRef = useRef();\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        const cards = BuilderStore().get();\r\n        dispatch(setCards(cards));\r\n        checkAuth().then((res) => {\r\n            if (res) {\r\n                dispatch(\r\n                    setAuth({\r\n                        login: res.login,\r\n                        admin: res.admin,\r\n                    })\r\n                );\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {/* Auth */}\r\n            <CSSTransition\r\n                in={authActive}\r\n                nodeRef={authRef}\r\n                timeout={300}\r\n                classNames=\"fade\"\r\n                unmountOnExit={true}\r\n            >\r\n                <Auth />\r\n            </CSSTransition>\r\n            {/* Header */}\r\n            <Header />\r\n            {/* MenuMobile */}\r\n            <CSSTransition\r\n                in={menuActive}\r\n                nodeRef={menuRef}\r\n                timeout={300}\r\n                classNames=\"fade\"\r\n                unmountOnExit={true}\r\n            >\r\n                <CatalogMenu className=\"mobile\" />\r\n            </CSSTransition>\r\n            <Content>\r\n                <CatalogMenu />\r\n                <Switch>\r\n                    <PrivateRouter\r\n                        component={Admin}\r\n                        admin={user.admin}\r\n                        path=\"/admin\"\r\n                    />\r\n                    <Route path=\"/builder\" children={<Builder />} />\r\n                    <Route\r\n                        exact\r\n                        path=\"/cards/:component\"\r\n                        children={<Catalog />}\r\n                    />\r\n                    <Route\r\n                        path=\"/cards/:component/:id\"\r\n                        children={<DetailCard />}\r\n                    />\r\n                    <Redirect from=\"/\" to=\"/cards/cpu\" />\r\n                </Switch>\r\n            </Content>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport './scss/index.scss';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}