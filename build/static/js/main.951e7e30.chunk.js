(this.webpackJsonpironkit=this.webpackJsonpironkit||[]).push([[0],{38:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(17),s=n.n(r),i=n(7),o=n.p+"static/media/logo.48926432.svg",u=(n(38),n(0));function l(e){var t=e.className,n=void 0===t?"":t,c=["logo"];return n&&c.push(n),Object(u.jsx)("a",{className:c.join(" "),href:"/",children:Object(u.jsx)("img",{src:o,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})})}n(40);function d(e){var t=e.icon,n=e.size,c=void 0===n?"25px":n,a=e.alt,r=void 0===a?"":a,s=e.className,i=void 0===s?"":s,o=e.onClick,l=void 0===o?function(){}:o,d=e.type,j=void 0===d?"button":d,b=["icon-btn"];return i&&b.push(i),Object(u.jsx)("button",{type:j,style:{width:c,height:c},className:b.join(" "),onClick:l,children:Object(u.jsx)("img",{className:"icon-btn__svg",src:t,alt:r})})}var j=n(8),b=n(19),m=n(18),p=Object(m.b)({name:"builder",initialState:{count:0,cards:[],ram:{count:1,value:null,price:0},totalPrice:0,list:[],activeMore:!1},reducers:{setCount:function(e,t){e.count=t.payload},setCards:function(e,t){e.cards=t.payload},setActiveMore:function(e,t){e.activeMore=t.payload},setRAM:function(e,t){e.ram=t.payload},setTotalPrice:function(e,t){e.totalPrice=t.payload},setList:function(e,t){e.list=t.payload}}}),f=p.actions,h=f.setCount,O=f.setCards,v=f.setActiveMore,x=f.setTotalPrice,_=f.setRAM,g=f.setList,N=p.reducer,k=Object(m.b)({name:"catalog",initialState:{cards:[],count:null,menu:[],menuActive:!1},reducers:{setCards:function(e,t){e.cards=t.payload.components,e.count=t.payload.count},setMenu:function(e,t){e.menu=t.payload},setMenuActive:function(e,t){e.menuActive=!e.menuActive}}}),y=k.actions,w=y.setCards,E=y.setMenu,S=y.setMenuActive,C=k.reducer,A=Object(m.b)({name:"user",initialState:{form:!1,user:{login:"",name:"",contacts:"",admin:!1}},reducers:{setAuth:function(e,t){e.user=t.payload},setForm:function(e,t){e.form=t.payload}}}),M=A.actions,D=M.setAuth,I=M.setForm,P=A.reducer,T=Object(m.a)({reducer:{catalog:C,user:P,builder:N}});var z=function(){var e=JSON.parse(localStorage.getItem("builderCards"))||[],t=+localStorage.getItem("builderCount")||0;return{set:function(n){var c=e.filter((function(e){return e.component===n.component}))[0];if(c)return!1;if(!c){var a=[].concat(Object(b.a)(e),[n]);return localStorage.setItem("builderCards",JSON.stringify(a)),t+=1,localStorage.setItem("builderCount",t),T.dispatch(h(t)),T.dispatch(O(a)),!0}},get:function(){return e},delete:function(n){var c=e.filter((function(e){return e.component!==n.component}));localStorage.setItem("builderCards",JSON.stringify(c)),t-=1,T.dispatch(h(t)),T.dispatch(O(c)),localStorage.setItem("builderCount",t)},count:function(){return t}}},J=n(2);n(45);function R(e){var t=e.src,n=e.className,a=e.to,r=Object(J.c)((function(e){return e.builder.count})),s=Object(J.b)(),i=["button","primary","outlined","collector-btn"];return n&&i.push(n),Object(c.useEffect)((function(){var e=z().count();s(h(e))}),[s]),Object(u.jsxs)(j.c,{className:i.join(" "),to:a,children:[Object(u.jsx)("span",{className:"collector-btn__label",children:"\u0421\u0431\u043e\u0440\u0449\u0438\u043a"}),Object(u.jsxs)("div",{className:"collector-btn__icon",children:[Object(u.jsx)("img",{className:"collector-btn__img",src:t,alt:""}),Object(u.jsx)("span",{className:"collector-btn__counter",children:r})]})]})}var L=n.p+"static/media/signIn.5d0f0585.svg",F=n.p+"static/media/logout.4f1b686b.svg",q=n.p+"static/media/collector.7069e324.svg",U=n.p+"static/media/menu.5d8c149d.svg",$=n(3),Z=n.n($),B=n(5),V=function(e){var t=e.toString().split(""),n=t.length,c=0;if(n>3&&n<7){for(c=1;n-c!==3;)c++;return a(Object(b.a)(t).splice(0,c).join("")+" "+Object(b.a)(t).splice(c).join(""))}return a(e);function a(e){return"\u2248 "+e+" \u20bd"}},G=function(){var e=Object(B.a)(Z.a.mark((function e(){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).login){e.next=9;break}return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(B.a)(Z.a.mark((function e(){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth-exit");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!1!==(n=e.sent).auth){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),K=function(e,t){if(e.count<1)return alert("\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ".concat(e.name));if(!z().set(e)){var n=t.filter((function(t){return t.component===e.component}))[0];alert("".concat(n.name," \u0443\u0436\u0435 \u043b\u0435\u0436\u0438\u0442 \u0432 \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435!"))}};n(48);function Q(){var e=Object(J.b)(),t=Object(J.c)((function(e){return e.user.user}));return Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"header__inner container",children:[Object(u.jsxs)("div",{className:"header-block",children:[Object(u.jsx)(d,{onClick:function(){e(S())},icon:U,className:"header__btn-menu",size:30}),Object(u.jsx)(l,{className:"header__logo"}),Object(u.jsx)(X,{})]}),Object(u.jsxs)("div",{className:"header-block",children:[t.login?Object(u.jsx)(W,{user:t}):null,Object(u.jsx)(R,{className:"header__btn-collector",src:q,to:"/builder",alt:"collector"}),t.login?Object(u.jsx)(d,{onClick:function(){H().then((function(t){t.auth||e(D({login:"",admin:!1}))}))},className:"header__btn-acc",icon:F,alt:"leaveAuth"}):Object(u.jsx)(d,{onClick:function(){e(I(!0))},className:"header__btn-acc",icon:L,alt:"signIn"})]})]})})}function W(e){var t=e.user;return t.admin?Object(u.jsx)(j.b,{className:"header__user",to:"/admin",children:t.login}):Object(u.jsx)("span",{className:"header__user",children:t.login})}function X(){return Object(u.jsx)("nav",{className:"menu",children:Object(u.jsx)("ul",{className:"menu__inner",children:Object(u.jsx)("li",{className:"menu__item",children:Object(u.jsx)(j.b,{className:"menu__link",to:"/kits",children:"\u0421\u0431\u043e\u0440\u043a\u0438"})})})})}var Y=n(6);n(49);var ee=function(e){var t=e.className;return Object(u.jsxs)("div",{className:"load-cards ".concat(t),children:[Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"})]})},te=n(11),ne=n.n(te),ce=n(10),ae=n(24);function re(e){var t=a.a.useState(e),n=Object(Y.a)(t,2),c=n[0],r=n[1],s=a.a.useState(""),i=Object(Y.a)(s,2),o=i[0],u=i[1],l=a.a.useState([]),d=Object(Y.a)(l,2),j=d[0],b=d[1],m=function(e){e.target.files&&b(e.target.files),r(e.target.value)};return{bind:function(){return{value:c,onChange:m}},clear:function(){j.length&&b([]),r("")},value:function(){return c},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple";return 0===e?j[0]:j},setError:function(e){u(e)},error:function(){return o}}}var se=n.p+"static/media/box.bce4c553.svg",ie=n.p+"static/media/plus.51a4d7b9.svg",oe=n.p+"static/media/minus.5b1e1542.svg",ue=n.p+"static/media/delete.10fd48a1.svg";n(51);function le(e){var t=e.image,n=e.imageUpload;return Object(u.jsx)("div",{className:"card__block-image",children:Object(u.jsxs)("label",{className:"card-img-changer",children:[Object(u.jsx)("img",{className:"card__image",src:"../"+t,alt:""}),Object(u.jsx)("input",Object(ce.a)(Object(ce.a)({},n.bind()),{},{type:"file",accept:"image/*"}))]})})}function de(e){var t=e.paramValue,n=e.field,c=e.callback,a=e.paramName;return Object(u.jsx)("form",{onSubmit:function(e){return c.call(null,e,n,a)},children:Object(u.jsx)("input",Object(ce.a)({className:"card__".concat(a,"-changer"),type:"text",placeholder:t},n.bind()))})}var je=function(e){var t=e.card,n=e.builder,a=void 0!==n&&n,r=e.ram,s=e.kit,o=JSON.parse(t.params),l=Object(J.b)(),b=Object(J.c)((function(e){return e.catalog.menu})),m=Object(J.c)((function(e){return e.user.user})),p=Object(J.c)((function(e){return e.builder.activeMore})),f=Object(J.c)((function(e){return e.builder.ram})),h=re(""),O=re(""),x=Object(i.i)().url;Object(c.useEffect)((function(){h.value()&&g(t,h)}),[h,t]);var g=function(){var e=Object(B.a)(Z.a.mark((function e(t,n){var c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("image",n.files(0)),c.append("imageName",t.image),e.next=6,fetch("/api/component/update-image",{method:"PUT",body:c});case 6:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(B.a)(Z.a.mark((function e(n,c,a){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),!isNaN(+c.value())){e.next=4;break}return e.abrupt("return");case 4:if(t[a]!==+c.value()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("/api/component/".concat(a,"/").concat(t.component,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(Object(ae.a)({},a,c.value()))});case 8:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}(),k=function(){var e=Object(B.a)(Z.a.mark((function e(n){var c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("imageName",n),e.next=5,fetch("/api/component/".concat(t.component,"/").concat(t.id),{method:"DELETE",body:c});case 5:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card__inner",children:[!m.admin||a||s?Object(u.jsx)("div",{className:"card__block-image",children:Object(u.jsx)("img",{className:"card__image",src:"../../"+t.image,alt:""})}):Object(u.jsx)(le,{image:t.image,imageUpload:h}),Object(u.jsxs)("div",{className:"card__info",children:[Object(u.jsx)("h2",{className:"card__name",children:t.name}),Object(u.jsxs)("div",{className:"card__params",children:[Object(u.jsxs)("div",{className:"card__param",children:[o[0].name,": ",o[0].value]}),Object(u.jsxs)("div",{className:"card__param",children:[o[1].name,":"," ",r?f.count*+o[1].value.split("\u0413\u0411")[0]+" \u0413\u0411":o[1].value]}),Object(u.jsxs)("div",{className:"card__param",children:[o[2].name,": ",o[2].value]})]}),Object(u.jsx)(j.b,{className:"primary card__more",onClick:function(){a?p||l(v(!0)):p&&l(v(!1))},to:"".concat(a||s?"/cards/".concat(t.component,"/").concat(t.id):x+"/"+t.id),children:"\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),!m.admin||a||s?null:Object(u.jsx)("div",{onClick:function(){return k(t.image)},className:"card__del",children:"\xd7"}),!m.admin||a||s?Object(u.jsx)("span",{className:"card__price",children:V(r?f.count*t.price:t.quantity?t.quantity*t.price:t.price)}):Object(u.jsx)(de,{paramValue:t.price,field:O,callback:N,paramName:"price"}),t.quantity>1?Object(u.jsx)("span",{className:"card__count-ram",children:"x".concat(t.quantity)}):null,a&&r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"card__count-ram",children:f.count>1?"x".concat(f.count):null}),Object(u.jsx)(d,{className:"card__btn-minus",onClick:function(){var e;e=t.price,1!==f.count&&l(_({count:f.count-1,value:+o[1].value.split("\u0413\u0411")[0]/2,price:f.price-e}))},icon:oe,size:24}),Object(u.jsx)(d,{className:"card__btn-plus",onClick:function(){var e;e=t.price,l(_({count:f.count+1,value:(f.count+1)*+o[1].value.split("\u0413\u0411")[0],price:f.price+e}))},icon:ie,size:24})]}):null,a?Object(u.jsx)(d,{className:"card__btn-del",onClick:function(){r&&l(_({count:1,value:null,price:0})),z().delete(t)},icon:ue,size:25}):Object(u.jsx)(d,{className:"card__btn-box",onClick:function(){K(t,b)},icon:se,size:40})]})})};n(52);function be(){var e=Object(i.h)().component,t=Object(J.b)(),n=Object(J.c)((function(e){return e.catalog.cards})),a=Object(c.useState)(!0),r=Object(Y.a)(a,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){t(function(e){return function(){var t=Object(B.a)(Z.a.mark((function t(n){var c,a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,fetch("/api/component/".concat(e));case 4:return c=t.sent,t.next=7,c.json();case 7:if(a=t.sent,c.ok){t.next=10;break}throw new Error("\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0438\u0445 \u043d\u0435\u0442!");case 10:setTimeout((function(){o(!1),n(w(a))}),300),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),o(!0),n(w([]));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[e,t]),Object(u.jsx)("div",{className:"catalog",children:Object(u.jsx)("div",{className:"catalog__inner",children:s?Object(u.jsx)(ee,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"catalog__filter"}),Object(u.jsx)("div",{className:"catalog__content",children:n.map((function(e){return Object(u.jsx)(je,{card:e},ne()())}))})]})})})}n(53);function me(e){var t=e.className,n=Object(J.c)((function(e){return e.catalog.menu})),a=Object(J.b)();Object(c.useEffect)((function(){a(function(){var e=Object(B.a)(Z.a.mark((function e(t){var n,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/menu");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(E(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[a]);var r=["catalog-menu"];return t&&r.push(t),Object(u.jsx)("nav",{className:r.join(" "),children:Object(u.jsxs)("ul",{className:"catalog-menu__inner",children:[n.map((function(e){return Object(u.jsx)("li",{className:"catalog-menu__item",children:Object(u.jsxs)(j.c,{to:"/cards/"+e.component,children:[Object(u.jsx)("div",{className:"catalog-menu__image",children:Object(u.jsx)("img",{src:"/"+e.icon,alt:""})}),e.name]})},ne()())})),"mobile"===t?Object(u.jsx)("li",{className:"catalog-menu__item",children:Object(u.jsx)(j.c,{to:"/kits",children:"\u0421\u0431\u043e\u0440\u043a\u0438"})}):null]})})}var pe=n.p+"static/media/load.8c920fc0.svg",fe=n.p+"static/media/back.a4f7b311.svg";n(54);var he=function(){var e,t=Object(J.c)((function(e){return e.builder.activeMore})),n=Object(J.c)((function(e){return e.catalog.menu})),a=Object(c.useState)(null),r=Object(Y.a)(a,2),s=r[0],o=r[1],l=Object(i.h)().id,j=Object(i.i)().url,b=Object(i.g)(),m=j.split("/")[2],p="/api/component/".concat(m,"/").concat(l),f=function(){var e=Object(B.a)(Z.a.mark((function e(t,n,c){var a,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,a.ok){e.next=9;break}throw new Error(r.error);case 9:setTimeout((function(){o(r)}),300),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",n.push("/cards/".concat(c)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f(p,b,m)}),[b,p,m]),s?Object(u.jsxs)("div",{className:"card-detail",children:[Object(u.jsx)(d,{onClick:function(){"POP"===b.action?b.push("/cards/".concat(s.component)):b.goBack()},className:"card-detail__back",icon:fe,size:28}),Object(u.jsx)("h2",{className:"card-detail__name",children:s.name}),Object(u.jsxs)("div",{className:"card-detail__inner",children:[Object(u.jsxs)("div",{className:"card-detail__block",children:[Object(u.jsx)("div",{className:"card-detail__image",children:Object(u.jsx)("img",{className:"card-detail__image",src:"../../".concat(s.image),alt:""})}),Object(u.jsxs)("div",{className:"card-detail__main",children:[Object(u.jsxs)("div",{className:"card-detail__price",children:[Object(u.jsx)("span",{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0446\u0435\u043d\u0430"}),Object(u.jsx)("b",{className:"primary",children:V(s.price)})]}),t?null:Object(u.jsx)("button",{onClick:function(){return K(s,n)},className:"button primary outlined in-builder",children:"\u0412 \u0441\u0431\u043e\u0440\u043a\u0443!"})]})]}),Object(u.jsx)("div",{className:"card-detail__block params",children:Object(u.jsx)("div",{className:"card-detail__params",children:(e=JSON.parse(s.params),e.map((function(e){return Object(u.jsxs)("div",{className:"card-detail__param",children:[Object(u.jsxs)("span",{className:"param-name",children:[e.name,":"]})," ",Object(u.jsx)("span",{className:"param-value",children:e.value})]},ne()())}))).map((function(e){return e}))})})]})]}):Object(u.jsx)("img",{src:pe,alt:""})};n(55);function Oe(e){var t=e.children;return Object(u.jsx)("main",{className:"content",children:Object(u.jsx)("div",{className:"content__inner container",children:t})})}n(56);var ve=function(e){var t=e.label,n=e.name,c=e.type,a=void 0===c?"text":c,r=e.placeholder,s=void 0===r?"":r,i=e.field,o=void 0===i?{bind:function(){return null},error:function(){return null}}:i;return Object(u.jsxs)("label",{className:"text-field",children:[t?Object(u.jsx)("span",{className:"text-field__label",children:t}):null,Object(u.jsx)("input",Object(ce.a)({className:"input primary text-field__input",name:n,type:a,autoComplete:"on",placeholder:s},o.bind())),Object(u.jsx)("span",{className:"text-field__error",children:o.error()})]})};n(57);var xe=function(){var e=Object(J.c)((function(e){return e.catalog.menu})),t=Object(J.c)((function(e){return e.builder.cards})),n=Object(J.c)((function(e){return e.builder.totalPrice})),a=Object(J.c)((function(e){return e.user.user})),r=Object(J.c)((function(e){return e.builder.ram})),s=Object(c.useState)([]),i=Object(Y.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)([]),j=Object(Y.a)(d,2),m=j[0],p=j[1],f=re(""),h=re(""),O=Object(J.b)(),v=function(){var e=Object(B.a)(Z.a.mark((function e(t){var c,s,i,u,l,d,j;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.login){e.next=3;break}return e.abrupt("return");case 3:if(f.value().trim()){e.next=7;break}return e.abrupt("return",f.setError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438"));case 7:if(!/[<>*$-/_]/.test(f.value())){e.next=9;break}return e.abrupt("return",f.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"));case 9:if(!(f.value().trim().length>36)){e.next=13;break}return e.abrupt("return",f.setError("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e 36 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"));case 13:f.setError("");case 14:f.setError("");case 15:if(!/[<>*$_]/.test(h.value())){e.next=19;break}return e.abrupt("return",h.setError("\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <>*$_"));case 19:h.setError("");case 20:for(c=o.filter((function(e){return e.count})),s=[],i=0;i<c.length;i++)s.push(Object(ce.a)(Object(ce.a)({},c[i]),{},{quantity:1}));return c=s,r.count>1&&((u=Object(ce.a)({},c.find((function(e){return"ram"===e.component})))).quantity=r.count,c=[].concat(Object(b.a)(c.filter((function(e){return"ram"!==e.component}))),[u])),(l={}).components=c,l.name=f.value().trim(),l.desc=h.value().trim(),l.price=n,l.user=a,e.prev=31,e.next=34,fetch("/api/builder/create",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json;charset=utf-8"}});case 34:return d=e.sent,e.next=37,d.json();case 37:j=e.sent,d.ok&&(f.clear(),h.clear(),alert(j.message)),console.log(j),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(31),console.error(e.t0);case 45:case"end":return e.stop()}}),e,null,[[31,42]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var n=[];e.forEach((function(e){var c=!0;t.forEach((function(t){if(t.component===e.component)return c=!1,n.push(t)})),c&&n.push(e)})),l(n)}),[e,t]),Object(c.useEffect)((function(){var e=[],t=0,n=null,c=null,a=0,s={cpu:null,motherboard:null,ram:null,cooler:null,videocard:null,bp:null,hdd:null,ssd:null,case:null};if(o.forEach((function(e){e.count>=0&&(a+=1,t+=e.price,s[e.component]=JSON.parse(e.params))})),a){if(s.cpu&&!s.videocard){var i=s.cpu.filter((function(e){return"\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u044f\u0434\u0440\u043e"===e.name}))[0];i&&(i.value&&"-"!==i.value||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0438\u0434\u0435\u043e\u043a\u0430\u0440\u0442\u0443"))}s.cpu||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440"),s.motherboard||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0443\u044e \u043f\u043b\u0430\u0442\u0443"),s.cooler||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435"),s.bp||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u043b\u043e\u043a \u043f\u0438\u0442\u0430\u043d\u0438\u044f"),s.ram||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043c\u044f\u0442\u044c"),s.hdd||s.ssd||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0438\u0441\u043a \u0438\u043b\u0438 SSD-\u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u044c"),s.case||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u0440\u043f\u0443\u0441")}(s.cpu&&s.motherboard&&(n=s.cpu.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0],c=s.motherboard.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0],n.value!==c.value&&e.push("\u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u0435 \u043f\u043e \u0441\u043e\u043a\u0435\u0442\u0443")),s.motherboard&&s.cooler)&&(c||(c=s.motherboard.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0]),s.cooler.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0].value.split(",").find((function(e){return e.trim()===c.value}))||e.push("\u041e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u0435 \u043f\u043e \u0441\u043e\u043a\u0435\u0442\u0443"));if(s.cpu&&s.cooler){var u=s.cpu.filter((function(e){return"\u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"===e.name}))[0],l=s.cooler.filter((function(e){return"\u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430"===e.name}))[0];parseInt(u.value)>parseInt(l.value)&&e.push("\u041e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e \u0442\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430")}if(s.motherboard&&s.ram){var d=s.motherboard.filter((function(e){return"\u0422\u0438\u043f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438"===e.name}))[0],j=s.ram.filter((function(e){return"\u0422\u0438\u043f \u043f\u0430\u043c\u044f\u0442\u0438"===e.name}))[0];d.value!==j.value&&e.push("\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043c\u044f\u0442\u044c \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e DDR")}if(s.motherboard&&s.case){var b=s.motherboard.filter((function(e){return"\u0424\u043e\u0440\u043c-\u0444\u0430\u043a\u0442\u043e\u0440"===e.name}))[0];s.case.filter((function(e){return"\u0424\u043e\u0440\u043c-\u0444\u0430\u043a\u0442\u043e\u0440"===e.name}))[0].value.split(",").find((function(e){return e.trim()===b.value}))||e.push("\u041c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0430\u044f \u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u0430 \u0441 \u043a\u043e\u0440\u043f\u0443\u0441\u043e\u043c \u043f\u043e \u0444\u043e\u0440\u043c-\u0444\u0430\u043a\u0442\u043e\u0440\u0443")}if(s.videocard&&s.bp){var m=s.videocard.filter((function(e){return"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0430 \u043f\u0438\u0442\u0430\u043d\u0438\u044f"===e.name}))[0],f=s.bp.filter((function(e){return"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c"===e.name}))[0];parseInt(m.value)>parseInt(f.value)&&e.push("\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0430 \u043f\u0438\u0442\u0430\u043d\u0438\u044f ".concat(m.value))}if(s.ram&&s.motherboard){var h=s.motherboard.filter((function(e){return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043c \u043f\u0430\u043c\u044f\u0442\u0438"===e.name||"\u0421\u043b\u043e\u0442\u043e\u0432 \u043f\u0430\u043c\u044f\u0442\u0438"===e.name})),v=+h[1].value.split("\u0413\u0411")[0],_=h[0].value;v<r.value&&e.push("\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043c\u044f\u0442\u044c \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043c \u043f\u0430\u043c\u044f\u0442\u0438 \u0443 \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u044b"),_<r.count&&e.push("\u041c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0430\u044f \u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0441\u043b\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438")}O(x(t+r.price)),p(e)}),[o,O,r]),Object(u.jsxs)("div",{className:"builder",children:[n?Object(u.jsxs)("span",{className:"builder__total",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438"," ",Object(u.jsx)("b",{className:"primary",children:V(+n)})]}):null,n&&m.length<1&&a.login?Object(u.jsxs)("form",{className:"builder__creator",onSubmit:function(e){return v(e)},children:[Object(u.jsx)(ve,{name:"name",field:f,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438"}),Object(u.jsx)("textarea",Object(ce.a)(Object(ce.a)({className:"builder__form-desc",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438"},h.bind()),{},{rows:"5"})),Object(u.jsx)("span",{className:"error",children:h.error()}),Object(u.jsx)("button",{className:"builder__btn",children:"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0443"})]}):null,m.map((function(e){return Object(u.jsx)("div",{className:"builder__error",children:e},ne()())})),Object(u.jsx)("div",{className:"builder-list",children:o.map((function(e){return e.params?Object(u.jsx)(je,{card:e,builder:!0,ram:"ram"===e.component},ne()()):Object(u.jsx)("div",{className:"builder__item",children:e.name},ne()())}))})]})};n(58);var _e=function(){var e=Object(c.useState)("auth"),t=Object(Y.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(Y.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),d=Object(Y.a)(l,2),j=d[0],b=d[1],m=Object(J.b)(),p=re(""),f=re(""),h=re(""),O=["auth__reg-btn"],v=["auth__auth-btn"];"reg"===n&&O.push("active"),"auth"===n&&v.push("active");var x=function(){var e=Object(B.a)(Z.a.mark((function e(t,n){var c,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,c.ok){e.next=9;break}throw a.message;case 9:a.auth&&(b(""),G().then((function(e){m(D({login:e.login,name:e.name,admin:e.admin})),m(I(!1))}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),b(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){var t=e.target.classList.contains("active"),n=e.target.name;if(!t)return o(!1),p.error()&&p.setError(),f.error()&&f.setError(),h.error()&&h.setError(),j&&b(""),void a(n)};return Object(u.jsx)("div",{onMouseDown:function(e){return function(e){var t=e.target.className;"auth"!==t&&"auth__close"!==t||m(I(!1))}(e)},className:"auth",children:Object(u.jsxs)("form",{className:"auth__form",onSubmit:function(e){return function(e){if(e.preventDefault(),!i)return o(!0);function t(e,t,n){var c=!1,a=[],r=[e,t];return n&&(r.push(n),c=!0),function(n){n.forEach((function(n){""===n.value().trim()?(n.setError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),a.push(1)):(n.error()&&n.setError(""),s(e,"login"),s(t,"password"))}))}(r),c&&function(e,t){e.value().trim()!==t.value().trim()?(a.push(1),t.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442")):t.error()&&t.setError("")}(t,n),a.length<1;function s(e,t){switch(t){case"login":e.value().length>1&&e.value().length<=16?(e.error()&&e.setError(""),i(e,"login")):(e.setError("\u041b\u043e\u0433\u0438\u043d \u043e\u0442 2 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),a.push(1));break;case"password":e.value().length>3&&e.value().length<=32?(e.error()&&e.setError(""),i(e,"password")):(e.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0442 4 \u0434\u043e 32 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),a.push(1));break;default:return}}function i(e,t){switch(t){case"login":/^[a-zA-Z](.[a-zA-Z0-9_]*)$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),a.push(1));break;case"password":/^[a-zA-Z0-9!@#$%^&*]{4,32}$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),a.push(1));break;default:return}}}var c={login:p.value(),password:f.value()};"reg"===n?(c.repeatedPassword=h.value(),t(p,f,h)&&x(c,"/api/users/add")):t(p,f)&&x(c,"/api/users/login")}(e)},children:[Object(u.jsx)("span",{className:"auth__close",children:"\xd7"}),Object(u.jsx)("h2",{className:"primary auth__title",children:"reg"===n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(u.jsx)(ve,{label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"login",field:p}),Object(u.jsx)(ve,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",field:f}),"reg"===n?Object(u.jsx)(ve,{label:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeat-password",type:"password",field:h}):null,Object(u.jsx)("span",{className:"auth__error",children:j}),Object(u.jsxs)("div",{className:"auth__buttons",children:[Object(u.jsx)("button",{onClick:function(e){_(e)},className:O.join(" "),name:"reg",type:"reg"===n?"submit":"button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)("button",{onClick:function(e){_(e)},name:"auth",type:"auth"===n?"submit":"button",className:v.join(" "),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},ge=n.p+"static/media/picture.c710575b.svg";n(59);function Ne(e){var t=e.file,n=e.className,c=void 0===n?"":n,r=e.icon,s=void 0===r?ge:r,i=e.text,o=void 0===i?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443":i,l=e.model,j=void 0===l?"icon":l,b=e.accept,m=void 0===b?"image/*":b,p=a.a.useRef(null),f=["file-uploader"];return c&&f.push(c),Object(u.jsxs)("label",{className:f.join(" "),children:[Object(u.jsx)("input",Object(ce.a)({ref:p,accept:m,className:"file-uploader__input",type:"file"},t.bind())),"icon"===j?Object(u.jsx)(d,{onClick:function(){p.current.click()},icon:ge}):Object(u.jsxs)("div",{className:"file-uploader__inner",children:[Object(u.jsx)("img",{src:s,alt:""}),Object(u.jsx)("span",{children:o})]})]})}n(60);var ke=function(e){var t=e.upload,n=e.size,c=void 0===n?"120px":n;return Object(u.jsxs)("div",{className:"temp-image",children:[Object(u.jsx)("img",{className:"temp-image__image",height:c,src:URL.createObjectURL(t.files(0)),alt:""}),Object(u.jsx)("span",{onClick:function(){return t.clear()},className:"close temp-image__close",children:"\xd7"})]})};n(61);function ye(){var e=Object(J.c)((function(e){return e.catalog.menu}));return Object(u.jsxs)("div",{className:"admin",children:[Object(u.jsx)("h2",{className:"admin__title",children:"ADMIN PANEL"}),e.length?Object(u.jsx)(we,{menu:e}):null]})}function we(e){var t=e.menu,n=Object(c.useState)([]),a=Object(Y.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(t[0].component),o=Object(Y.a)(i,2),l=o[0],d=o[1],j=t.filter((function(e){return e.component===l}))[0],b=re("");Object(c.useEffect)((function(){p(l)}),[l]);var m=function(){var e=Object(B.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(B.a)(Z.a.mark((function e(t){var n,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/params/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(B.a)(Z.a.mark((function e(t){var n,c,a,s,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,c=!0,n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"]||n.elements["\u0426\u0435\u043d\u0430"]||(c=!1),r.forEach((function(e){n.elements[e.name].value||(c=!1)})),b.files(0)){e.next=7;break}return e.abrupt("return",alert("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443!"));case 7:if(c){e.next=9;break}return e.abrupt("return",alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"));case 9:return(a=new FormData(t.target)).append("image",b.files(0)),e.prev=11,e.next=14,fetch("/api/component/add",{method:"POST",body:a});case 14:return s=e.sent,e.next=17,s.text();case 17:return i=e.sent,b.clear(),r.forEach((function(e){n.elements[e.name].value=""})),n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"].value="",n.elements["\u0426\u0435\u043d\u0430"].value="",e.abrupt("return",alert(i));case 25:e.prev=25,e.t0=e.catch(11),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[11,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"form-adder",onSubmit:function(e){return f(e)},action:"#",children:[Object(u.jsx)("select",{onChange:function(e){return m(e)},name:"component",value:l,children:t.map((function(e){return Object(u.jsx)("option",{value:e.component,children:e.name},ne()())}))}),Object(u.jsx)(Ne,{className:"form-adder__upload",file:b,model:"txt"}),b.files(0)?Object(u.jsx)(ke,{upload:b}):null,Object(u.jsx)(ve,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(u.jsx)(ve,{name:"\u0426\u0435\u043d\u0430",label:"\u0426\u0435\u043d\u0430",type:"number"}),r.map((function(e){return Object(u.jsx)(ve,{name:e.name,label:e.name},ne()())})),Object(u.jsx)("div",{className:"wrapper-btn",children:Object(u.jsxs)("button",{className:"button primary form-adder__btn",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ",j.genetive]})})]})}var Ee=n(67),Se=n(32),Ce=function(e){var t=e.component,n=e.access,c=Object(Se.a)(e,["component","access"]);return Object(u.jsx)(i.b,Object(ce.a)(Object(ce.a)({},c),{},{render:function(e){return n?Object(u.jsx)(t,Object(ce.a)({},e)):Object(u.jsx)(i.a,{to:"/"})}}))},Ae=n.p+"static/media/case.ed048626.svg";n(62);var Me=function(){var e=Object(J.c)((function(e){return e.builder.list})),t=Object(J.c)((function(e){return e.user.user})),n=Object(c.useState)(!0),a=Object(Y.a)(n,2),r=a[0],s=a[1],i=Object(J.b)(),o=function(){var e=Object(B.a)(Z.a.mark((function e(t,n){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.href="/kits",e.prev=1,e.next=4,fetch("/api/builder/".concat(t,"/").concat(n),{method:"DELETE"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i((s(!0),function(){var e=Object(B.a)(Z.a.mark((function e(t){var n,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/builder");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(!1),t(g(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[i]),Object(u.jsx)("div",{className:"kits",children:r?Object(u.jsx)("img",{src:pe,alt:""}):Object(u.jsx)("div",{className:"kits__list",children:e.length?e.map((function(e){return Object(u.jsxs)(j.b,{className:"kits__item",to:"/kits/".concat(e.user,"/").concat(e.id),children:[Object(u.jsx)("img",{src:Ae,alt:""}),Object(u.jsxs)("div",{className:"kits__item-info",children:[Object(u.jsx)("h3",{className:"kits__item-title",children:e.name}),Object(u.jsx)("p",{className:"kits__item-desc",children:e.description})]}),t.login===e.user||t.admin?Object(u.jsx)("div",{onClick:function(){o(e.user,e.id)},className:"card__del",children:"\xd7"}):null,Object(u.jsx)("span",{className:"kits__item-user",children:e.user})]},ne()())})):Object(u.jsx)("h2",{className:"primary",children:"\u0421\u0431\u043e\u0440\u043e\u043a \u043d\u0435\u0442"})})})};n(63);var De=function(){var e=Object(i.g)(),t=Object(i.h)(),n=t.user,a=t.id,r=Object(c.useState)([]),s=Object(Y.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)({name:"",description:""}),b=Object(Y.a)(j,2),m=b[0],p=b[1],f=function(){var e=Object(B.a)(Z.a.mark((function e(t,n,c){var a,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/builder/".concat(t,"/").concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:(r=e.sent).success||c.push("/kits"),l(r.builder),p({name:r.name,description:r.description}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f(n,a,e)}),[n,a,e]),Object(u.jsxs)("div",{className:"detail-kit",children:[Object(u.jsx)(d,{onClick:function(){e.push("/kits")},className:"detail-kit__back",icon:fe,size:28}),Object(u.jsx)("h3",{className:"detail-kit__title",children:m.name}),Object(u.jsx)("p",{className:"detail-kit__desc",children:m.description}),Object(u.jsx)("div",{className:"detail-kit__list",children:o.map((function(e){return Object(u.jsx)(je,{card:e,kit:!0},ne()())}))})]})};function Ie(){var e=Object(J.c)((function(e){return e.user.form})),t=Object(J.c)((function(e){return e.user.user})),n=Object(J.c)((function(e){return e.catalog.menuActive})),a=Object(c.useRef)(),r=Object(c.useRef)(),s=Object(J.b)();return Object(c.useEffect)((function(){var e=z().get();s(O(e)),G().then((function(e){e&&s(D({login:e.login,email:e.email,admin:e.admin}))}))}),[s]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(Ee.a,{in:e,nodeRef:a,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(u.jsx)(_e,{})}),Object(u.jsx)(Q,{}),Object(u.jsx)(Ee.a,{in:n,nodeRef:r,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(u.jsx)(me,{className:"mobile"})}),Object(u.jsxs)(Oe,{children:[Object(u.jsx)(me,{}),Object(u.jsxs)(i.d,{children:[Object(u.jsx)(Ce,{component:ye,access:t.admin,path:"/admin"}),Object(u.jsx)(i.b,{exact:!0,path:"/kits",children:Object(u.jsx)(Me,{})}),Object(u.jsx)(i.b,{path:"/kits/:user/:id",children:Object(u.jsx)(De,{})}),Object(u.jsx)(i.b,{path:"/builder",children:Object(u.jsx)(xe,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/cards/:component",children:Object(u.jsx)(be,{})}),Object(u.jsx)(i.b,{path:"/cards/:component/:id",children:Object(u.jsx)(he,{})}),Object(u.jsx)(i.a,{from:"/",to:"/cards/cpu"})]})]})]})}n(64);s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j.a,{children:Object(u.jsx)(J.a,{store:T,children:Object(u.jsx)(Ie,{})})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.951e7e30.chunk.js.map