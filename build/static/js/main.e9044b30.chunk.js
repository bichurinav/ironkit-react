(this.webpackJsonpironkit=this.webpackJsonpironkit||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(17),s=n.n(a),i=n(3),o=n.n(i),u=n(5),l=n(7),d=n.p+"static/media/logo.48926432.svg",j=(n(39),n(0));function b(e){var t=e.className,n=void 0===t?"":t,c=["logo"];return n&&c.push(n),Object(j.jsx)("a",{className:c.join(" "),href:"/",children:Object(j.jsx)("img",{src:d,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})})}n(41);function m(e){var t=e.icon,n=e.size,c=void 0===n?"25px":n,r=e.alt,a=void 0===r?"":r,s=e.className,i=void 0===s?"":s,o=e.onClick,u=void 0===o?function(){}:o,l=e.type,d=void 0===l?"button":l,b=["icon-btn"];return i&&b.push(i),Object(j.jsx)("button",{type:d,style:{width:c,height:c},className:b.join(" "),onClick:u,children:Object(j.jsx)("img",{className:"icon-btn__svg",src:t,alt:a})})}var p=n(8),f=n(19),h=n(18),O=Object(h.b)({name:"builder",initialState:{count:0,cards:[],ram:{count:1,value:null,price:0},totalPrice:0,list:[],activeMore:!1},reducers:{setCount:function(e,t){e.count=t.payload},setCards:function(e,t){e.cards=t.payload},setActiveMore:function(e,t){e.activeMore=t.payload},setRAM:function(e,t){e.ram=t.payload},setTotalPrice:function(e,t){e.totalPrice=t.payload},setList:function(e,t){e.list=t.payload}}}),v=O.actions,x=v.setCount,_=v.setCards,g=v.setActiveMore,N=v.setTotalPrice,k=v.setRAM,y=v.setList,w=O.reducer,E=Object(h.b)({name:"catalog",initialState:{cards:[],count:null,menu:[],menuActive:!1},reducers:{setCards:function(e,t){e.cards=t.payload.components,e.count=t.payload.count},setMenu:function(e,t){e.menu=t.payload},setMenuActive:function(e,t){e.menuActive=!e.menuActive}}}),S=E.actions,C=S.setCards,A=S.setMenu,M=S.setMenuActive,D=E.reducer,I=Object(h.b)({name:"user",initialState:{form:!1,user:{login:"",name:"",contacts:"",admin:!1}},reducers:{setAuth:function(e,t){e.user=t.payload},setForm:function(e,t){e.form=t.payload}}}),P=I.actions,T=P.setAuth,z=P.setForm,J=I.reducer,R=Object(h.a)({reducer:{catalog:D,user:J,builder:w}});var F=function(){var e=JSON.parse(localStorage.getItem("builderCards"))||[],t=+localStorage.getItem("builderCount")||0;return{set:function(n){var c=e.filter((function(e){return e.component===n.component}))[0];if(c)return!1;if(!c){var r=[].concat(Object(f.a)(e),[n]);return localStorage.setItem("builderCards",JSON.stringify(r)),t+=1,localStorage.setItem("builderCount",t),R.dispatch(x(t)),R.dispatch(_(r)),!0}},get:function(){return e},delete:function(n){var c=e.filter((function(e){return e.component!==n.component}));localStorage.setItem("builderCards",JSON.stringify(c)),t-=1,R.dispatch(x(t)),R.dispatch(_(c)),localStorage.setItem("builderCount",t)},count:function(){return t}}},L=n(2);n(46);function q(e){var t=e.src,n=e.className,r=e.to,a=Object(L.c)((function(e){return e.builder.count})),s=Object(L.b)(),i=["button","primary","outlined","collector-btn"];return n&&i.push(n),Object(c.useEffect)((function(){var e=F().count();s(x(e))}),[s]),Object(j.jsxs)(p.c,{className:i.join(" "),to:r,children:[Object(j.jsx)("span",{className:"collector-btn__label",children:"\u0421\u0431\u043e\u0440\u0449\u0438\u043a"}),Object(j.jsxs)("div",{className:"collector-btn__icon",children:[Object(j.jsx)("img",{className:"collector-btn__img",src:t,alt:""}),Object(j.jsx)("span",{className:"collector-btn__counter",children:a})]})]})}var U=n.p+"static/media/signIn.5d0f0585.svg",$=n.p+"static/media/logout.4f1b686b.svg",Z=n.p+"static/media/collector.7069e324.svg",B=n.p+"static/media/menu.5d8c149d.svg",V=function(e){var t=e.toString().split(""),n=t.length,c=0;if(n>3&&n<7){for(c=1;n-c!==3;)c++;return r(Object(f.a)(t).splice(0,c).join("")+" "+Object(f.a)(t).splice(c).join(""))}return r(e);function r(e){return"\u2248 "+e+" \u20bd"}},G=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).login){e.next=9;break}return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth-exit");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!1!==(n=e.sent).auth){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),K=function(e,t){if(e.count<1)return alert("\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ".concat(e.name));if(!F().set(e)){var n=t.filter((function(t){return t.component===e.component}))[0];alert("".concat(n.name," \u0443\u0436\u0435 \u043b\u0435\u0436\u0438\u0442 \u0432 \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435!"))}};n(48);function Q(){var e=Object(L.b)(),t=Object(L.c)((function(e){return e.user.user}));return Object(j.jsx)("header",{className:"header",children:Object(j.jsxs)("div",{className:"header__inner container",children:[Object(j.jsxs)("div",{className:"header-block",children:[Object(j.jsx)(m,{onClick:function(){e(M())},icon:B,className:"header__btn-menu",size:30}),Object(j.jsx)(b,{className:"header__logo"}),Object(j.jsx)(X,{})]}),Object(j.jsxs)("div",{className:"header-block",children:[t.login?Object(j.jsx)(W,{user:t}):null,Object(j.jsx)(q,{className:"header__btn-collector",src:Z,to:"/builder",alt:"collector"}),t.login?Object(j.jsx)(m,{onClick:function(){H().then((function(t){t.auth||e(T({login:"",admin:!1}))}))},className:"header__btn-acc",icon:$,alt:"leaveAuth"}):Object(j.jsx)(m,{onClick:function(){e(z(!0))},className:"header__btn-acc",icon:U,alt:"signIn"})]})]})})}function W(e){var t=e.user;return t.admin?Object(j.jsx)(p.b,{className:"header__user",to:"/admin",children:t.login}):Object(j.jsx)("span",{className:"header__user",children:t.login})}function X(){return Object(j.jsx)("nav",{className:"menu",children:Object(j.jsx)("ul",{className:"menu__inner",children:Object(j.jsx)("li",{className:"menu__item",children:Object(j.jsx)(p.b,{className:"menu__link",to:"/kits",children:"\u0421\u0431\u043e\u0440\u043a\u0438"})})})})}var Y=n(6);n(49);var ee=function(e){var t=e.className;return Object(j.jsxs)("div",{className:"load-cards ".concat(t),children:[Object(j.jsx)("div",{className:"load-cards__card"}),Object(j.jsx)("div",{className:"load-cards__card"}),Object(j.jsx)("div",{className:"load-cards__card"}),Object(j.jsx)("div",{className:"load-cards__card"}),Object(j.jsx)("div",{className:"load-cards__card"}),Object(j.jsx)("div",{className:"load-cards__card"})]})},te=n(11),ne=n.n(te),ce=n(10),re=n(24);function ae(e){var t=r.a.useState(e),n=Object(Y.a)(t,2),c=n[0],a=n[1],s=r.a.useState(""),i=Object(Y.a)(s,2),o=i[0],u=i[1],l=r.a.useState([]),d=Object(Y.a)(l,2),j=d[0],b=d[1],m=function(e){e.target.files&&b(e.target.files),a(e.target.value)};return{bind:function(){return{value:c,onChange:m}},clear:function(){j.length&&b([]),a("")},value:function(){return c},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple";return 0===e?j[0]:j},setError:function(e){u(e)},error:function(){return o}}}var se=n.p+"static/media/box.bce4c553.svg",ie=n.p+"static/media/plus.51a4d7b9.svg",oe=n.p+"static/media/minus.5b1e1542.svg",ue=n.p+"static/media/delete.10fd48a1.svg";n(51);function le(e){var t=e.image,n=e.imageUpload;return Object(j.jsx)("div",{className:"card__block-image",children:Object(j.jsxs)("label",{className:"card-img-changer",children:[Object(j.jsx)("img",{className:"card__image",src:"../"+t,alt:""}),Object(j.jsx)("input",Object(ce.a)(Object(ce.a)({},n.bind()),{},{type:"file",accept:"image/*"}))]})})}function de(e){var t=e.paramValue,n=e.field,c=e.callback,r=e.paramName;return Object(j.jsx)("form",{onSubmit:function(e){return c.call(null,e,n,r)},children:Object(j.jsx)("input",Object(ce.a)({className:"card__".concat(r,"-changer"),type:"text",placeholder:t},n.bind()))})}var je=function(e){var t=e.card,n=e.builder,r=void 0!==n&&n,a=e.ram,s=e.kit,i=JSON.parse(t.params),d=Object(L.b)(),b=Object(L.c)((function(e){return e.catalog.menu})),f=Object(L.c)((function(e){return e.user.user})),h=Object(L.c)((function(e){return e.builder.activeMore})),O=Object(L.c)((function(e){return e.builder.ram})),v=ae(""),x=ae(""),_=Object(l.i)().url;Object(c.useEffect)((function(){v.value()&&N(t,v)}),[v,t]);var N=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("image",n.files(0)),c.append("imageName",t.image),e.next=6,fetch("/api/component/update-image",{method:"PUT",body:c});case 6:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(n,c,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),!isNaN(+c.value())){e.next=4;break}return e.abrupt("return");case 4:if(t[r]!==+c.value()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("/api/component/".concat(r,"/").concat(t.component,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(Object(re.a)({},r,c.value()))});case 8:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("imageName",n),e.next=5,fetch("/api/component/".concat(t.component,"/").concat(t.id),{method:"DELETE",body:c});case 5:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card__inner",children:[!f.admin||r||s?Object(j.jsx)("div",{className:"card__block-image",children:Object(j.jsx)("img",{className:"card__image",src:"../../"+t.image,alt:""})}):Object(j.jsx)(le,{image:t.image,imageUpload:v}),Object(j.jsxs)("div",{className:"card__info",children:[Object(j.jsx)("h2",{className:"card__name",children:t.name}),Object(j.jsxs)("div",{className:"card__params",children:[Object(j.jsxs)("div",{className:"card__param",children:[i[0].name,": ",i[0].value]}),Object(j.jsxs)("div",{className:"card__param",children:[i[1].name,":"," ",a?O.count*+i[1].value.split("\u0413\u0411")[0]+" \u0413\u0411":i[1].value]}),Object(j.jsxs)("div",{className:"card__param",children:[i[2].name,": ",i[2].value]})]}),Object(j.jsx)(p.b,{className:"primary card__more",onClick:function(){r?h||d(g(!0)):h&&d(g(!1))},to:"".concat(r||s?"/cards/".concat(t.component,"/").concat(t.id):_+"/"+t.id),children:"\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),!f.admin||r||s?null:Object(j.jsx)("div",{onClick:function(){return w(t.image)},className:"card__del",children:"\xd7"}),!f.admin||r||s?Object(j.jsx)("span",{className:"card__price",children:V(a?O.count*t.price:t.quantity?t.quantity*t.price:t.price)}):Object(j.jsx)(de,{paramValue:t.price,field:x,callback:y,paramName:"price"}),t.quantity>1?Object(j.jsx)("span",{className:"card__count-ram",children:"x".concat(t.quantity)}):null,r&&a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"card__count-ram",children:O.count>1?"x".concat(O.count):null}),Object(j.jsx)(m,{className:"card__btn-minus",onClick:function(){var e;e=t.price,1!==O.count&&d(k({count:O.count-1,value:+i[1].value.split("\u0413\u0411")[0]/2,price:O.price-e}))},icon:oe,size:24}),Object(j.jsx)(m,{className:"card__btn-plus",onClick:function(){var e;e=t.price,d(k({count:O.count+1,value:(O.count+1)*+i[1].value.split("\u0413\u0411")[0],price:O.price+e}))},icon:ie,size:24})]}):null,r?Object(j.jsx)(m,{className:"card__btn-del",onClick:function(){a&&d(k({count:1,value:null,price:0})),F().delete(t)},icon:ue,size:25}):Object(j.jsx)(m,{className:"card__btn-box",onClick:function(){K(t,b)},icon:se,size:40})]})})};n(52);function be(){var e=Object(l.h)().component,t=Object(L.b)(),n=Object(L.c)((function(e){return e.catalog.cards})),r=Object(c.useState)(!0),a=Object(Y.a)(r,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){t(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,fetch("/api/component/".concat(e));case 4:return c=t.sent,t.next=7,c.json();case 7:if(r=t.sent,c.ok){t.next=10;break}throw new Error("\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0438\u0445 \u043d\u0435\u0442!");case 10:setTimeout((function(){i(!1),n(C(r))}),300),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),i(!0),n(C([]));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[e,t]),Object(j.jsx)("div",{className:"catalog",children:Object(j.jsx)("div",{className:"catalog__inner",children:s?Object(j.jsx)(ee,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"catalog__filter"}),Object(j.jsx)("div",{className:"catalog__content",children:n.map((function(e){return Object(j.jsx)(je,{card:e},ne()())}))})]})})})}n(53);function me(e){var t=e.className,n=Object(L.c)((function(e){return e.catalog.menu})),c=["catalog-menu"];return t&&c.push(t),Object(j.jsx)("nav",{className:c.join(" "),children:Object(j.jsxs)("ul",{className:"catalog-menu__inner",children:[n.map((function(e){return Object(j.jsx)("li",{className:"catalog-menu__item",children:Object(j.jsxs)(p.c,{to:"/cards/"+e.component,children:[Object(j.jsx)("div",{className:"catalog-menu__image",children:Object(j.jsx)("img",{src:"/"+e.icon,alt:""})}),e.name]})},ne()())})),"mobile"===t?Object(j.jsx)("li",{className:"catalog-menu__item",children:Object(j.jsx)(p.c,{to:"/kits",children:"\u0421\u0431\u043e\u0440\u043a\u0438"})}):null]})})}var pe=n.p+"static/media/load.8c920fc0.svg",fe=n.p+"static/media/back.a4f7b311.svg";n(54);var he=function(){var e,t=Object(L.c)((function(e){return e.builder.activeMore})),n=Object(L.c)((function(e){return e.catalog.menu})),r=Object(c.useState)(null),a=Object(Y.a)(r,2),s=a[0],i=a[1],d=Object(l.h)().id,b=Object(l.i)().url,p=Object(l.g)(),f=b.split("/")[2],h="/api/component/".concat(f,"/").concat(d),O=function(){var e=Object(u.a)(o.a.mark((function e(t,n,c){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,r.ok){e.next=9;break}throw new Error(a.error);case 9:setTimeout((function(){i(a)}),300),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",n.push("/cards/".concat(c)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){O(h,p,f)}),[p,h,f]),s?Object(j.jsxs)("div",{className:"card-detail",children:[Object(j.jsx)(m,{onClick:function(){"POP"===p.action?p.push("/cards/".concat(s.component)):p.goBack()},className:"card-detail__back",icon:fe,size:28}),Object(j.jsx)("h2",{className:"card-detail__name",children:s.name}),Object(j.jsxs)("div",{className:"card-detail__inner",children:[Object(j.jsxs)("div",{className:"card-detail__block",children:[Object(j.jsx)("div",{className:"card-detail__image",children:Object(j.jsx)("img",{className:"card-detail__image",src:"../../".concat(s.image),alt:""})}),Object(j.jsxs)("div",{className:"card-detail__main",children:[Object(j.jsxs)("div",{className:"card-detail__price",children:[Object(j.jsx)("span",{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0446\u0435\u043d\u0430"}),Object(j.jsx)("b",{className:"primary",children:V(s.price)})]}),t?null:Object(j.jsx)("button",{onClick:function(){return K(s,n)},className:"button primary outlined in-builder",children:"\u0412 \u0441\u0431\u043e\u0440\u043a\u0443!"})]})]}),Object(j.jsx)("div",{className:"card-detail__block params",children:Object(j.jsx)("div",{className:"card-detail__params",children:(e=JSON.parse(s.params),e.map((function(e){return Object(j.jsxs)("div",{className:"card-detail__param",children:[Object(j.jsxs)("span",{className:"param-name",children:[e.name,":"]})," ",Object(j.jsx)("span",{className:"param-value",children:e.value})]},ne()())}))).map((function(e){return e}))})})]})]}):Object(j.jsx)("img",{src:pe,alt:""})};n(55);function Oe(e){var t=e.children;return Object(j.jsx)("main",{className:"content",children:Object(j.jsx)("div",{className:"content__inner container",children:t})})}n(56);var ve=function(e){var t=e.label,n=e.name,c=e.type,r=void 0===c?"text":c,a=e.placeholder,s=void 0===a?"":a,i=e.field,o=void 0===i?{bind:function(){return null},error:function(){return null}}:i;return Object(j.jsxs)("label",{className:"text-field",children:[t?Object(j.jsx)("span",{className:"text-field__label",children:t}):null,Object(j.jsx)("input",Object(ce.a)({className:"input primary text-field__input",name:n,type:r,autoComplete:"on",placeholder:s},o.bind())),Object(j.jsx)("span",{className:"text-field__error",children:o.error()})]})};n(57);var xe=function(){var e=Object(L.c)((function(e){return e.catalog.menu})),t=Object(L.c)((function(e){return e.builder.cards})),n=Object(L.c)((function(e){return e.builder.totalPrice})),r=Object(L.c)((function(e){return e.user.user})),a=Object(L.c)((function(e){return e.builder.ram})),s=Object(c.useState)([]),i=Object(Y.a)(s,2),l=i[0],d=i[1],b=Object(c.useState)([]),m=Object(Y.a)(b,2),p=m[0],h=m[1],O=ae(""),v=ae(""),x=Object(L.b)(),_=function(){var e=Object(u.a)(o.a.mark((function e(t){var c,s,i,u,d,j,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.login){e.next=3;break}return e.abrupt("return");case 3:if(O.value().trim()){e.next=7;break}return e.abrupt("return",O.setError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438"));case 7:if(!/[<>*$-/_]/.test(O.value())){e.next=9;break}return e.abrupt("return",O.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"));case 9:if(!(O.value().trim().length>36)){e.next=13;break}return e.abrupt("return",O.setError("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e 36 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"));case 13:O.setError("");case 14:O.setError("");case 15:if(!/[<>*$_]/.test(v.value())){e.next=19;break}return e.abrupt("return",v.setError("\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <>*$_"));case 19:v.setError("");case 20:for(c=l.filter((function(e){return e.price})),s=[],i=0;i<c.length;i++)s.push(Object(ce.a)(Object(ce.a)({},c[i]),{},{quantity:1}));return c=s,a.count>1&&((u=Object(ce.a)({},c.find((function(e){return"ram"===e.component})))).quantity=a.count,c=[].concat(Object(f.a)(c.filter((function(e){return"ram"!==e.component}))),[u])),(d={}).components=c,d.name=O.value().trim(),d.desc=v.value().trim(),d.price=n,d.user=r,e.prev=31,e.next=34,fetch("/api/builder/create",{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json;charset=utf-8"}});case 34:return j=e.sent,e.next=37,j.json();case 37:b=e.sent,j.ok&&(O.clear(),v.clear(),alert(b.message)),console.log(b),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(31),console.error(e.t0);case 45:case"end":return e.stop()}}),e,null,[[31,42]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var n=[];e.forEach((function(e){var c=!0;t.forEach((function(t){if(t.component===e.component)return c=!1,n.push(t)})),c&&n.push(e)})),d(n)}),[e,t]),Object(c.useEffect)((function(){var e=[],t=0,n=null,c=null,r=0,s={cpu:null,motherboard:null,ram:null,cooler:null,videocard:null,bp:null,hdd:null,ssd:null,case:null};if(l.forEach((function(e){e.price>=0&&(r+=1,t+=e.price,s[e.component]=JSON.parse(e.params))})),r){if(s.cpu&&!s.videocard){var i=s.cpu.filter((function(e){return"\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u044f\u0434\u0440\u043e"===e.name}))[0];i&&(i.value&&"-"!==i.value||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0438\u0434\u0435\u043e\u043a\u0430\u0440\u0442\u0443"))}s.cpu||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440"),s.motherboard||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0443\u044e \u043f\u043b\u0430\u0442\u0443"),s.cooler||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435"),s.bp||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u043b\u043e\u043a \u043f\u0438\u0442\u0430\u043d\u0438\u044f"),s.ram||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043c\u044f\u0442\u044c"),s.hdd||s.ssd||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0438\u0441\u043a \u0438\u043b\u0438 SSD-\u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u044c"),s.case||e.push("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u0440\u043f\u0443\u0441")}(s.cpu&&s.motherboard&&(n=s.cpu.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0],c=s.motherboard.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0],n.value!==c.value&&e.push("\u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u0435 \u043f\u043e \u0441\u043e\u043a\u0435\u0442\u0443")),s.motherboard&&s.cooler)&&(c||(c=s.motherboard.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0]),s.cooler.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0].value.split(",").find((function(e){return e.trim()===c.value}))||e.push("\u041e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u0435 \u043f\u043e \u0441\u043e\u043a\u0435\u0442\u0443"));if(s.cpu&&s.cooler){var o=s.cpu.filter((function(e){return"\u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"===e.name}))[0],u=s.cooler.filter((function(e){return"\u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430"===e.name}))[0];parseInt(o.value)>parseInt(u.value)&&e.push("\u041e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e \u0442\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430")}if(s.motherboard&&s.ram){var d=s.motherboard.filter((function(e){return"\u0422\u0438\u043f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438"===e.name}))[0],j=s.ram.filter((function(e){return"\u0422\u0438\u043f \u043f\u0430\u043c\u044f\u0442\u0438"===e.name}))[0];d.value!==j.value&&e.push("\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043c\u044f\u0442\u044c \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e DDR")}if(s.motherboard&&s.case){var b=s.motherboard.filter((function(e){return"\u0424\u043e\u0440\u043c-\u0444\u0430\u043a\u0442\u043e\u0440"===e.name}))[0];s.case.filter((function(e){return"\u0424\u043e\u0440\u043c-\u0444\u0430\u043a\u0442\u043e\u0440"===e.name}))[0].value.split(",").find((function(e){return e.trim()===b.value}))||e.push("\u041c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0430\u044f \u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u0430 \u0441 \u043a\u043e\u0440\u043f\u0443\u0441\u043e\u043c \u043f\u043e \u0444\u043e\u0440\u043c-\u0444\u0430\u043a\u0442\u043e\u0440\u0443")}if(s.videocard&&s.bp){var m=s.videocard.filter((function(e){return"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0430 \u043f\u0438\u0442\u0430\u043d\u0438\u044f"===e.name}))[0],p=s.bp.filter((function(e){return"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c"===e.name}))[0];parseInt(m.value)>parseInt(p.value)&&e.push("\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0430 \u043f\u0438\u0442\u0430\u043d\u0438\u044f ".concat(m.value))}if(s.ram&&s.motherboard){var f=s.motherboard.filter((function(e){return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043c \u043f\u0430\u043c\u044f\u0442\u0438"===e.name||"\u0421\u043b\u043e\u0442\u043e\u0432 \u043f\u0430\u043c\u044f\u0442\u0438"===e.name})),O=+f[1].value.split("\u0413\u0411")[0],v=f[0].value;O<a.value&&e.push("\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043c\u044f\u0442\u044c \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043c \u043f\u0430\u043c\u044f\u0442\u0438 \u0443 \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u044b"),v<a.count&&e.push("\u041c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u0430\u044f \u043f\u043b\u0430\u0442\u0430 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0441\u043b\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438")}x(N(t+a.price)),h(e)}),[l,x,a]),Object(j.jsxs)("div",{className:"builder",children:[n?Object(j.jsxs)("span",{className:"builder__total",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438"," ",Object(j.jsx)("b",{className:"primary",children:V(+n)})]}):null,n&&p.length<1&&r.login?Object(j.jsxs)("form",{className:"builder__creator",onSubmit:function(e){return _(e)},children:[Object(j.jsx)(ve,{name:"name",field:O,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438"}),Object(j.jsx)("textarea",Object(ce.a)(Object(ce.a)({className:"builder__form-desc",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438"},v.bind()),{},{rows:"5"})),Object(j.jsx)("span",{className:"error",children:v.error()}),Object(j.jsx)("button",{className:"builder__btn",children:"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0443"})]}):null,p.map((function(e){return Object(j.jsx)("div",{className:"builder__error",children:e},ne()())})),Object(j.jsx)("div",{className:"builder-list",children:l.map((function(e){return e.params?Object(j.jsx)(je,{card:e,builder:!0,ram:"ram"===e.component},ne()()):Object(j.jsx)("div",{className:"builder__item",children:e.name},ne()())}))})]})};n(58);var _e=function(){var e=Object(c.useState)("auth"),t=Object(Y.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(Y.a)(a,2),i=s[0],l=s[1],d=Object(c.useState)(""),b=Object(Y.a)(d,2),m=b[0],p=b[1],f=Object(L.b)(),h=ae(""),O=ae(""),v=ae(""),x=["auth__reg-btn"],_=["auth__auth-btn"];"reg"===n&&x.push("active"),"auth"===n&&_.push("active");var g=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 3:return c=e.sent,e.next=6,c.json();case 6:if(r=e.sent,c.ok){e.next=9;break}throw r.message;case 9:r.auth&&(p(""),G().then((function(e){f(T({login:e.login,name:e.name,admin:e.admin})),f(z(!1))}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),p(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){var t=e.target.classList.contains("active"),n=e.target.name;if(!t)return l(!1),h.error()&&h.setError(),O.error()&&O.setError(),v.error()&&v.setError(),m&&p(""),void r(n)};return Object(j.jsx)("div",{onMouseDown:function(e){return function(e){var t=e.target.className;"auth"!==t&&"auth__close"!==t||f(z(!1))}(e)},className:"auth",children:Object(j.jsxs)("form",{className:"auth__form",onSubmit:function(e){return function(e){if(e.preventDefault(),!i)return l(!0);function t(e,t,n){var c=!1,r=[],a=[e,t];return n&&(a.push(n),c=!0),function(n){n.forEach((function(n){""===n.value().trim()?(n.setError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),r.push(1)):(n.error()&&n.setError(""),s(e,"login"),s(t,"password"))}))}(a),c&&function(e,t){e.value().trim()!==t.value().trim()?(r.push(1),t.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442")):t.error()&&t.setError("")}(t,n),r.length<1;function s(e,t){switch(t){case"login":e.value().length>1&&e.value().length<=16?(e.error()&&e.setError(""),i(e,"login")):(e.setError("\u041b\u043e\u0433\u0438\u043d \u043e\u0442 2 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.push(1));break;case"password":e.value().length>3&&e.value().length<=32?(e.error()&&e.setError(""),i(e,"password")):(e.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0442 4 \u0434\u043e 32 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.push(1));break;default:return}}function i(e,t){switch(t){case"login":/^[a-zA-Z](.[a-zA-Z0-9_]*)$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.push(1));break;case"password":/^[a-zA-Z0-9!@#$%^&*]{4,32}$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),r.push(1));break;default:return}}}var c={login:h.value(),password:O.value()};"reg"===n?(c.repeatedPassword=v.value(),t(h,O,v)&&g(c,"/api/users/add")):t(h,O)&&g(c,"/api/users/login")}(e)},children:[Object(j.jsx)("span",{className:"auth__close",children:"\xd7"}),Object(j.jsx)("h2",{className:"primary auth__title",children:"reg"===n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(j.jsx)(ve,{label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"login",field:h}),Object(j.jsx)(ve,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",field:O}),"reg"===n?Object(j.jsx)(ve,{label:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeat-password",type:"password",field:v}):null,Object(j.jsx)("span",{className:"auth__error",children:m}),Object(j.jsxs)("div",{className:"auth__buttons",children:[Object(j.jsx)("button",{onClick:function(e){N(e)},className:x.join(" "),name:"reg",type:"reg"===n?"submit":"button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)("button",{onClick:function(e){N(e)},name:"auth",type:"auth"===n?"submit":"button",className:_.join(" "),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},ge=n.p+"static/media/picture.c710575b.svg";n(59);function Ne(e){var t=e.file,n=e.className,c=void 0===n?"":n,a=e.icon,s=void 0===a?ge:a,i=e.text,o=void 0===i?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443":i,u=e.model,l=void 0===u?"icon":u,d=e.accept,b=void 0===d?"image/*":d,p=r.a.useRef(null),f=["file-uploader"];return c&&f.push(c),Object(j.jsxs)("label",{className:f.join(" "),children:[Object(j.jsx)("input",Object(ce.a)({ref:p,accept:b,className:"file-uploader__input",type:"file"},t.bind())),"icon"===l?Object(j.jsx)(m,{onClick:function(){p.current.click()},icon:ge}):Object(j.jsxs)("div",{className:"file-uploader__inner",children:[Object(j.jsx)("img",{src:s,alt:""}),Object(j.jsx)("span",{children:o})]})]})}n(60);var ke=function(e){var t=e.upload,n=e.size,c=void 0===n?"120px":n;return Object(j.jsxs)("div",{className:"temp-image",children:[Object(j.jsx)("img",{className:"temp-image__image",height:c,src:URL.createObjectURL(t.files(0)),alt:""}),Object(j.jsx)("span",{onClick:function(){return t.clear()},className:"close temp-image__close",children:"\xd7"})]})};n(61);function ye(){var e=Object(L.c)((function(e){return e.catalog.menu}));return Object(j.jsxs)("div",{className:"admin",children:[Object(j.jsx)("h2",{className:"admin__title",children:"ADMIN PANEL"}),e.length?Object(j.jsx)(we,{menu:e}):null]})}function we(e){var t=e.menu,n=Object(c.useState)([]),r=Object(Y.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(t[0].component),l=Object(Y.a)(i,2),d=l[0],b=l[1],m=t.filter((function(e){return e.component===d}))[0],p=ae("");Object(c.useEffect)((function(){h(d)}),[d]);var f=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,b(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/params/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,c=!0,n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"]||n.elements["\u0426\u0435\u043d\u0430"]||(c=!1),a.forEach((function(e){n.elements[e.name].value||(c=!1)})),p.files(0)){e.next=7;break}return e.abrupt("return",alert("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443!"));case 7:if(c){e.next=9;break}return e.abrupt("return",alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"));case 9:return(r=new FormData(t.target)).append("image",p.files(0)),e.prev=11,e.next=14,fetch("/api/component/add",{method:"POST",body:r});case 14:return s=e.sent,e.next=17,s.text();case 17:return i=e.sent,p.clear(),a.forEach((function(e){n.elements[e.name].value=""})),n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"].value="",n.elements["\u0426\u0435\u043d\u0430"].value="",e.abrupt("return",alert(i));case 25:e.prev=25,e.t0=e.catch(11),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[11,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"form-adder",onSubmit:function(e){return O(e)},action:"#",children:[Object(j.jsx)("select",{onChange:function(e){return f(e)},name:"component",value:d,children:t.map((function(e){return Object(j.jsx)("option",{value:e.component,children:e.name},ne()())}))}),Object(j.jsx)(Ne,{className:"form-adder__upload",file:p,model:"txt"}),p.files(0)?Object(j.jsx)(ke,{upload:p}):null,Object(j.jsx)(ve,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(j.jsx)(ve,{name:"\u0426\u0435\u043d\u0430",label:"\u0426\u0435\u043d\u0430",type:"number"}),a.map((function(e){return Object(j.jsx)(ve,{name:e.name,label:e.name},ne()())})),Object(j.jsx)("div",{className:"wrapper-btn",children:Object(j.jsxs)("button",{className:"button primary form-adder__btn",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ",m.genetive]})})]})}var Ee=n(67),Se=n(32),Ce=function(e){var t=e.component,n=e.access,c=Object(Se.a)(e,["component","access"]);return Object(j.jsx)(l.b,Object(ce.a)(Object(ce.a)({},c),{},{render:function(e){return n?Object(j.jsx)(t,Object(ce.a)({},e)):Object(j.jsx)(l.a,{to:"/"})}}))},Ae=n.p+"static/media/case.ed048626.svg";n(62);var Me=function(){var e=Object(L.c)((function(e){return e.builder.list})),t=Object(L.c)((function(e){return e.user.user})),n=Object(c.useState)(!0),r=Object(Y.a)(n,2),a=r[0],s=r[1],i=Object(L.b)(),l=function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.href="/kits",e.prev=1,e.next=4,fetch("/api/builder/".concat(t,"/").concat(n),{method:"DELETE"});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i((s(!0),function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/builder");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(!1),t(y(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[i]),Object(j.jsx)("div",{className:"kits",children:a?Object(j.jsx)("img",{src:pe,alt:""}):Object(j.jsx)("div",{className:"kits__list",children:e.length?e.map((function(e){return Object(j.jsxs)(p.b,{className:"kits__item",to:"/kits/".concat(e.user,"/").concat(e.id),children:[Object(j.jsx)("img",{src:Ae,alt:""}),Object(j.jsxs)("div",{className:"kits__item-info",children:[Object(j.jsx)("h3",{className:"kits__item-title",children:e.name}),Object(j.jsx)("p",{className:"kits__item-desc",children:e.description}),Object(j.jsx)("p",{className:"kits__item-price",children:V(e.price)})]}),t.login===e.user||t.admin?Object(j.jsx)("div",{onClick:function(){l(e.user,e.id)},className:"card__del",children:"\xd7"}):null,Object(j.jsx)("span",{className:"kits__item-user",children:e.user})]},ne()())})):Object(j.jsx)("h2",{className:"primary",children:"\u0421\u0431\u043e\u0440\u043e\u043a \u043d\u0435\u0442"})})})};n(63);var De=function(){var e=Object(l.g)(),t=Object(l.h)(),n=t.user,r=t.id,a=Object(c.useState)([]),s=Object(Y.a)(a,2),i=s[0],d=s[1],b=Object(c.useState)({name:"",description:"",price:""}),p=Object(Y.a)(b,2),f=p[0],h=p[1],O=function(){var e=Object(u.a)(o.a.mark((function e(t,n,c){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/builder/".concat(t,"/").concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent).success||c.push("/kits"),d(a.builder),h({name:a.name,description:a.description,price:a.price}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){O(n,r,e)}),[n,r,e]),Object(j.jsx)(j.Fragment,{children:i.length<1?Object(j.jsx)("img",{src:pe,alt:""}):Object(j.jsxs)("div",{className:"detail-kit",children:[Object(j.jsx)(m,{onClick:function(){e.push("/kits")},className:"detail-kit__back",icon:fe,size:28}),Object(j.jsx)("h3",{className:"detail-kit__title",children:f.name}),Object(j.jsx)("p",{className:"detail-kit__desc",children:f.description}),Object(j.jsxs)("span",{className:"detail-kit__price",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438"," ",Object(j.jsx)("b",{className:"primary",children:V(f.price)})]}),Object(j.jsx)("div",{className:"detail-kit__list",children:i.map((function(e){return Object(j.jsx)(je,{card:e,kit:!0},ne()())}))})]})})};function Ie(){var e=Object(L.c)((function(e){return e.user.form})),t=Object(L.c)((function(e){return e.user.user})),n=Object(L.c)((function(e){return e.catalog.menuActive})),r=Object(c.useRef)(),a=Object(c.useRef)(),s=Object(L.b)();return Object(c.useEffect)((function(){var e=F().get();s(function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/menu");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(A(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),s(_(e)),G().then((function(e){e&&s(T({login:e.login,email:e.email,admin:e.admin}))}))}),[s]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(Ee.a,{in:e,nodeRef:r,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(j.jsx)(_e,{})}),Object(j.jsx)(Q,{}),Object(j.jsx)(Ee.a,{in:n,nodeRef:a,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(j.jsx)(me,{className:"mobile"})}),Object(j.jsxs)(Oe,{children:[Object(j.jsx)(me,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(Ce,{component:ye,access:t.admin,path:"/admin"}),Object(j.jsx)(l.b,{exact:!0,path:"/kits",children:Object(j.jsx)(Me,{})}),Object(j.jsx)(l.b,{path:"/kits/:user/:id",children:Object(j.jsx)(De,{})}),Object(j.jsx)(l.b,{path:"/builder",children:Object(j.jsx)(xe,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/cards/:component",children:Object(j.jsx)(be,{})}),Object(j.jsx)(l.b,{path:"/cards/:component/:id",children:Object(j.jsx)(he,{})}),Object(j.jsx)(l.a,{from:"/",to:"/cards/cpu"})]})]})]})}n(64);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(p.a,{children:Object(j.jsx)(L.a,{store:R,children:Object(j.jsx)(Ie,{})})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.e9044b30.chunk.js.map