(this.webpackJsonpironkit=this.webpackJsonpironkit||[]).push([[0],{38:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(17),s=n.n(r),i=n(5),o=n.p+"static/media/logo.48926432.svg",u=(n(38),n(0));function l(e){var t=e.className,n=void 0===t?"":t,a=["logo"];return n&&a.push(n),Object(u.jsx)("a",{className:a.join(" "),href:"/",children:Object(u.jsx)("img",{src:o,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})})}n(40);function d(e){var t=e.icon,n=e.size,a=void 0===n?"25px":n,c=e.alt,r=void 0===c?"":c,s=e.className,i=void 0===s?"":s,o=e.onClick,l=void 0===o?function(){}:o,d=e.type,j=void 0===d?"button":d,m=["icon-btn"];return i&&m.push(i),Object(u.jsx)("button",{type:j,style:{width:a,height:a},className:m.join(" "),onClick:l,children:Object(u.jsx)("img",{className:"icon-btn__svg",src:t,alt:r})})}var j=n(10),m=n(21),b=n(18),f=Object(b.b)({name:"builder",initialState:{count:0,cards:[],activeMore:!1},reducers:{setCount:function(e,t){e.count=t.payload},setCards:function(e,t){e.cards=t.payload},setActiveMore:function(e,t){e.activeMore=t.payload}}}),p=f.actions,h=p.setCount,O=p.setCards,v=p.setActiveMore,x=f.reducer,_=Object(b.b)({name:"catalog",initialState:{cards:[],count:null,menu:[],menuActive:!1},reducers:{setCards:function(e,t){e.cards=t.payload.components,e.count=t.payload.count},setMenu:function(e,t){e.menu=t.payload},setMenuActive:function(e,t){e.menuActive=!e.menuActive}}}),g=_.actions,N=g.setCards,k=g.setMenu,y=g.setMenuActive,w=_.reducer,S=Object(b.b)({name:"user",initialState:{form:!1,user:{login:"",admin:!1}},reducers:{setAuth:function(e,t){e.user.login=t.payload.login,e.user.admin=t.payload.admin},setForm:function(e,t){e.form=t.payload}}}),E=S.actions,C=E.setAuth,A=E.setForm,J=S.reducer,I=Object(b.a)({reducer:{catalog:w,user:J,builder:x}});var M=function(){var e=JSON.parse(localStorage.getItem("builderCards"))||[],t=+localStorage.getItem("builderCount")||0;return{set:function(n){var a=e.filter((function(e){return e.component===n.component}))[0];if(a)return!1;if(!a){var c=[].concat(Object(m.a)(e),[n]);return localStorage.setItem("builderCards",JSON.stringify(c)),t+=1,localStorage.setItem("builderCount",t),I.dispatch(h(t)),I.dispatch(O(c)),!0}},get:function(){return e},delete:function(n){var a=e.filter((function(e){return e.component!==n.component}));localStorage.setItem("builderCards",JSON.stringify(a)),t-=1,I.dispatch(h(t)),I.dispatch(O(a)),localStorage.setItem("builderCount",t)},count:function(){return t}}},D=n(2);n(45);function z(e){var t=e.src,n=e.className,c=e.to,r=Object(D.c)((function(e){return e.builder.count})),s=Object(D.b)(),i=["button","primary","outlined","collector-btn"];return n&&i.push(n),Object(a.useEffect)((function(){var e=M().count();s(h(e))}),[s]),Object(u.jsxs)(j.c,{className:i.join(" "),to:c,children:[Object(u.jsx)("span",{className:"collector-btn__label",children:"\u0421\u0431\u043e\u0440\u0449\u0438\u043a"}),Object(u.jsxs)("div",{className:"collector-btn__icon",children:[Object(u.jsx)("img",{className:"collector-btn__img",src:t,alt:""}),Object(u.jsx)("span",{className:"collector-btn__counter",children:r})]})]})}var T=n.p+"static/media/signIn.5d0f0585.svg",R=n.p+"static/media/logout.4f1b686b.svg",F=n.p+"static/media/collector.7069e324.svg",P=n.p+"static/media/menu.5d8c149d.svg",U=n(3),L=n.n(U),V=n(6),Z=function(e){var t=e.toString().split(""),n=t.length,a=0;if(n>3&&n<7){for(a=1;n-a!==3;)a++;return c(Object(m.a)(t).splice(0,a).join("")+" "+Object(m.a)(t).splice(a).join(""))}return c(e);function c(e){return e+" \u20bd"}},$=function(){var e=Object(V.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).login){e.next=9;break}return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(V.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth-exit");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!1!==(n=e.sent).auth){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){if(!M().set(e)){var n=t.filter((function(t){return t.component===e.component}))[0];alert("".concat(n.name," \u0443\u0436\u0435 \u043b\u0435\u0436\u0438\u0442 \u0432 \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435!"))}};n(48);function G(){var e=Object(D.b)(),t=Object(D.c)((function(e){return e.user.user}));return Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"header__inner container",children:[Object(u.jsxs)("div",{className:"header-block",children:[Object(u.jsx)(d,{onClick:function(){e(y())},icon:P,className:"header__btn-menu",size:30}),Object(u.jsx)(l,{className:"header__logo"})]}),Object(u.jsxs)("div",{className:"header-block",children:[t.login?Object(u.jsx)(H,{user:t}):null,Object(u.jsx)(z,{className:"header__btn-collector",src:F,to:"/builder",alt:"collector"}),t.login?Object(u.jsx)(d,{onClick:function(){B().then((function(t){t.auth||e(C({login:"",admin:!1}))}))},className:"header__btn-acc",icon:R,alt:"leaveAuth"}):Object(u.jsx)(d,{onClick:function(){e(A(!0))},className:"header__btn-acc",icon:T,alt:"signIn"})]})]})})}function H(e){var t=e.user;return t.admin?Object(u.jsx)(j.b,{className:"header__user",to:"/admin",children:t.login}):Object(u.jsx)("span",{className:"header__user",children:t.login})}var K=n(7);n(49);var Q=function(e){var t=e.className;return Object(u.jsxs)("div",{className:"load-cards ".concat(t),children:[Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"})]})},W=n(11),X=n.n(W),Y=n(13),ee=n(24);function te(e){var t=c.a.useState(e),n=Object(K.a)(t,2),a=n[0],r=n[1],s=c.a.useState(""),i=Object(K.a)(s,2),o=i[0],u=i[1],l=c.a.useState([]),d=Object(K.a)(l,2),j=d[0],m=d[1],b=function(e){e.target.files&&m(e.target.files),r(e.target.value)};return{bind:function(){return{value:a,onChange:b}},clear:function(){j.length&&m([]),r("")},value:function(){return a},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple";return 0===e?j[0]:j},setError:function(e){u(e)},error:function(){return o}}}var ne=n.p+"static/media/box.bce4c553.svg",ae=n.p+"static/media/delete.10fd48a1.svg";n(51);function ce(e){var t=e.image,n=e.imageUpload;return Object(u.jsx)("div",{className:"card__block-image",children:Object(u.jsxs)("label",{className:"card-img-changer",children:[Object(u.jsx)("img",{className:"card__image",src:"../"+t,alt:""}),Object(u.jsx)("input",Object(Y.a)(Object(Y.a)({},n.bind()),{},{type:"file",accept:"image/*"}))]})})}function re(e){var t=e.paramValue,n=e.field,a=e.callback,c=e.paramName;return Object(u.jsx)("form",{onSubmit:function(e){return a.call(null,e,n,c)},children:Object(u.jsx)("input",Object(Y.a)({className:"card__".concat(c,"-changer"),type:"text",placeholder:t},n.bind()))})}var se=function(e){var t=e.card,n=e.builder,c=void 0!==n&&n,r=JSON.parse(t.params),s=Object(D.b)(),o=Object(D.c)((function(e){return e.catalog.menu})),l=Object(D.c)((function(e){return e.user.user})),m=Object(D.c)((function(e){return e.builder.activeMore})),b=te(""),f=te(""),p=te(""),h=Object(i.i)().url;Object(a.useEffect)((function(){b.value()&&O(t,b)}),[b,t]);var O=function(){var e=Object(V.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("image",n.files(0)),a.append("imageName",t.image),e.next=6,fetch("/api/component/update-image",{method:"PUT",body:a});case 6:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(V.a)(L.a.mark((function e(n,a,c){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),!isNaN(+a.value())){e.next=4;break}return e.abrupt("return");case 4:if(t[c]!==+a.value()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("/api/component/".concat(c,"/").concat(t.component,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(Object(ee.a)({},c,a.value()))});case 8:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(V.a)(L.a.mark((function e(n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("imageName",n),e.next=5,fetch("/api/component/".concat(t.component,"/").concat(t.id),{method:"DELETE",body:a});case 5:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card__inner",children:[l.admin&&!c?Object(u.jsx)(ce,{image:t.image,imageUpload:b}):Object(u.jsx)("div",{className:"card__block-image",children:Object(u.jsx)("img",{className:"card__image",src:"../"+t.image,alt:""})}),Object(u.jsxs)("div",{className:"card__info",children:[Object(u.jsx)("h2",{className:"card__name",children:t.name}),Object(u.jsxs)("div",{className:"card__params",children:[Object(u.jsxs)("div",{className:"card__param",children:[r[0].name,": ",r[0].value]}),Object(u.jsxs)("div",{className:"card__param",children:[r[1].name,": ",r[1].value]}),Object(u.jsxs)("div",{className:"card__param",children:[r[2].name,": ",r[2].value]})]}),Object(u.jsx)(j.b,{className:"primary card__more",onClick:function(){c?m||s(v(!0)):m&&s(v(!1))},to:"".concat(c?"cards/".concat(t.component):h,"/").concat(t.id),children:"\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),l.admin&&!c?Object(u.jsx)(re,{paramValue:t.count,field:p,callback:x,paramName:"count"}):Object(u.jsxs)("span",{className:"card__count",children:[t.count||0," \u0448\u0442."]}),l.admin&&!c?Object(u.jsx)("div",{onClick:function(){return _(t.image)},className:"card__del",children:"\xd7"}):null,l.admin&&!c?Object(u.jsx)(re,{paramValue:t.price,field:f,callback:x,paramName:"price"}):Object(u.jsx)("span",{className:"card__price",children:Z(t.price)}),c?Object(u.jsx)(d,{className:"card__btn-del",onClick:function(){M().delete(t)},icon:ae,size:30}):Object(u.jsx)(d,{className:"card__btn-box",onClick:function(){q(t,o)},icon:ne,size:40})]})})};n(52);function ie(){var e=Object(i.h)().component,t=Object(D.b)(),n=Object(D.c)((function(e){return e.catalog.cards})),c=Object(a.useState)(!0),r=Object(K.a)(c,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){t(function(e){return function(){var t=Object(V.a)(L.a.mark((function t(n){var a,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,fetch("/api/component/".concat(e));case 4:return a=t.sent,t.next=7,a.json();case 7:if(c=t.sent,a.ok){t.next=10;break}throw new Error("\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0438\u0445 \u043d\u0435\u0442!");case 10:setTimeout((function(){o(!1),n(N(c))}),300),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),o(!0),n(N([]));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[e,t]),Object(u.jsx)("div",{className:"catalog",children:Object(u.jsx)("div",{className:"catalog__inner",children:s?Object(u.jsx)(Q,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"catalog__filter"}),Object(u.jsx)("div",{className:"catalog__content",children:n.map((function(e){return Object(u.jsx)(se,{card:e},X()())}))})]})})})}n(53);function oe(e){var t=e.className,n=Object(D.c)((function(e){return e.catalog.menu})),c=Object(D.b)();Object(a.useEffect)((function(){c(function(){var e=Object(V.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/menu");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t(k(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[c]);var r=["catalog-menu"];return t&&r.push(t),Object(u.jsx)("nav",{className:r.join(" "),children:Object(u.jsx)("ul",{className:"catalog-menu__inner",children:n.map((function(e){return Object(u.jsx)("li",{className:"catalog-menu__item",children:Object(u.jsxs)(j.c,{to:"/cards/"+e.component,children:[Object(u.jsx)("div",{className:"catalog-menu__image",children:Object(u.jsx)("img",{src:"/"+e.icon,alt:""})}),e.name]})},X()())}))})})}var ue=n.p+"static/media/load.8c920fc0.svg",le=n.p+"static/media/back.a4f7b311.svg";n(54);var de=function(){var e,t=Object(D.c)((function(e){return e.builder.activeMore})),n=Object(D.c)((function(e){return e.catalog.menu})),c=Object(a.useState)(null),r=Object(K.a)(c,2),s=r[0],o=r[1],l=Object(i.h)().id,j=Object(i.i)().url,m=Object(i.g)(),b=j.split("/")[2],f="/api/component/".concat(b,"/").concat(l),p=function(){var e=Object(V.a)(L.a.mark((function e(t,n,a){var c,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return c=e.sent,e.next=6,c.json();case 6:if(r=e.sent,c.ok){e.next=9;break}throw new Error(r.error);case 9:setTimeout((function(){o(r)}),300),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",n.push("/cards/".concat(a)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p(f,m,b)}),[m,f,b]),s?Object(u.jsxs)("div",{className:"card-detail",children:[Object(u.jsx)(d,{onClick:function(){m.goBack()},className:"card-detail__back",icon:le,size:28}),Object(u.jsx)("h2",{className:"card-detail__name",children:s.name}),Object(u.jsxs)("div",{className:"card-detail__inner",children:[Object(u.jsxs)("div",{className:"card-detail__block",children:[Object(u.jsx)("div",{className:"card-detail__image",children:Object(u.jsx)("img",{className:"card-detail__image",src:"../../".concat(s.image),alt:""})}),Object(u.jsxs)("div",{className:"card-detail__main",children:[Object(u.jsx)("div",{className:"card-detail__count",children:Object(u.jsxs)("span",{children:["\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"," ",Object(u.jsxs)("b",{className:"primary",children:[s.count," \u0448\u0442."]})]})}),Object(u.jsxs)("div",{className:"card-detail__price",children:[Object(u.jsx)("span",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(u.jsx)("b",{className:"primary",children:Z(s.price)})]}),t?null:Object(u.jsx)("button",{onClick:function(){return q(s,n)},className:"button primary outlined in-builder",children:"\u0412 \u0441\u0431\u043e\u0440\u043a\u0443!"})]})]}),Object(u.jsx)("div",{className:"card-detail__block params",children:Object(u.jsx)("div",{className:"card-detail__params",children:(e=JSON.parse(s.params),e.map((function(e){return Object(u.jsxs)("div",{className:"card-detail__param",children:[Object(u.jsxs)("span",{className:"param-name",children:[e.name,":"]})," ",Object(u.jsx)("span",{className:"param-value",children:e.value})]},X()())}))).map((function(e){return e}))})})]})]}):Object(u.jsx)("img",{src:ue,alt:""})};n(55);function je(e){var t=e.children;return Object(u.jsx)("main",{className:"content",children:Object(u.jsx)("div",{className:"content__inner container",children:t})})}n(56);var me=function(){var e=Object(D.c)((function(e){return e.catalog.menu})),t=Object(D.c)((function(e){return e.builder.cards})),n=Object(a.useState)([]),c=Object(K.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),o=Object(K.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(""),m=Object(K.a)(j,2),b=m[0],f=m[1];return Object(a.useEffect)((function(){var n=[];e.forEach((function(e){var a=!0;t.forEach((function(t){if(t.component===e.component)return a=!1,n.push(t)})),a&&n.push(e)})),s(n)}),[e,t]),Object(a.useEffect)((function(){var e=[],t=0,n=null,a=null,c=null,s=null,i=null,o=null,u=null,l=null;(r.forEach((function(e){if(e.count>=0)switch(t+=e.price,e.component){case"cpu":n=JSON.parse(e.params);break;case"motherboard":a=JSON.parse(e.params);break;case"ram":c=JSON.parse(e.params);break;case"cooler":s=JSON.parse(e.params);break;case"videocard":i=JSON.parse(e.params);break;case"bp":o=JSON.parse(e.params)}})),n&&a&&(u=n.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0],l=a.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0],u.value!==l.value&&e.push("\u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u0435 \u043f\u043e \u0441\u043e\u043a\u0435\u0442\u0443")),a&&s)&&(l||(l=a.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0]),s.filter((function(e){return"\u0421\u043e\u043a\u0435\u0442"===e.name}))[0].value.split(",").find((function(e){return e.trim()===l.value}))||e.push("\u041e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043c\u0430\u0442\u0435\u0440\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043b\u0430\u0442\u0435 \u043f\u043e \u0441\u043e\u043a\u0435\u0442\u0443"));if(n&&s){var j=n.filter((function(e){return"\u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"===e.name}))[0],m=s.filter((function(e){return"\u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430"===e.name}))[0];parseInt(j.value)>parseInt(m.value)&&e.push("\u041e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e \u0442\u0435\u043f\u043b\u043e\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430")}if(a&&c){var b=a.filter((function(e){return"\u0422\u0438\u043f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438"===e.name}))[0],p=c.filter((function(e){return"\u0422\u0438\u043f \u043f\u0430\u043c\u044f\u0442\u0438"===e.name}))[0];b.value!==p.value&&e.push("\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0430\u043c\u044f\u0442\u044c \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u043e DDR")}if(i&&o){var h=i.filter((function(e){return"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0430 \u043f\u0438\u0442\u0430\u043d\u0438\u044f"===e.name}))[0],O=o.filter((function(e){return"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c"===e.name}))[0];parseInt(h.value)>parseInt(O.value)&&e.push("\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0430 \u043f\u0438\u0442\u0430\u043d\u0438\u044f ".concat(h.value))}f(t),d(e)}),[r]),Object(u.jsxs)("div",{className:"builder",children:[b?Object(u.jsxs)("span",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438"," ",Object(u.jsx)("b",{className:"primary",children:Z(b)})]}):null,l.map((function(e){return Object(u.jsx)("div",{className:"builder__error",children:e},X()())})),Object(u.jsx)("div",{className:"builder-list",children:r.map((function(e){return e.params?Object(u.jsx)(se,{card:e,builder:!0},X()()):Object(u.jsx)("div",{className:"builder__item",children:e.name},X()())}))})]})};n(57);var be=function(e){var t=e.label,n=e.name,a=e.type,c=void 0===a?"text":a,r=e.placeholder,s=void 0===r?"":r,i=e.field,o=void 0===i?{bind:function(){return null},error:function(){return null}}:i;return Object(u.jsxs)("label",{className:"text-field",children:[Object(u.jsx)("span",{className:"text-field__label",children:t}),Object(u.jsx)("input",Object(Y.a)({className:"input primary text-field__input",name:n,type:c,autoComplete:"on",placeholder:s},o.bind())),Object(u.jsx)("span",{className:"text-field__error",children:o.error()})]})};n(58);var fe=function(){var e=Object(a.useState)("auth"),t=Object(K.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),s=Object(K.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(""),d=Object(K.a)(l,2),j=d[0],m=d[1],b=Object(D.b)(),f=te(""),p=te(""),h=te(""),O=["auth__reg-btn"],v=["auth__auth-btn"];"reg"===n&&O.push("active"),"auth"===n&&v.push("active");var x=function(){var e=Object(V.a)(L.a.mark((function e(t,n){var a,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,a.ok){e.next=9;break}throw c.message;case 9:c.auth&&(m(""),$().then((function(e){b(C({login:e.login,admin:e.admin})),b(A(!1))}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),m(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){var t=e.target.classList.contains("active"),n=e.target.name;if(!t)return o(!1),f.error()&&f.setError(),p.error()&&p.setError(),h.error()&&h.setError(),j&&m(""),void c(n)};return Object(u.jsx)("div",{onMouseDown:function(e){return function(e){var t=e.target.className;"auth"!==t&&"auth__close"!==t||b(A(!1))}(e)},className:"auth",children:Object(u.jsxs)("form",{className:"auth__form",onSubmit:function(e){return function(e){if(e.preventDefault(),!i)return o(!0);function t(e,t,n){var a=!1,c=[],r=[e,t];return n&&(r.push(n),a=!0),function(n){n.forEach((function(n){""===n.value().trim()?(n.setError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),c.push(1)):(n.error()&&n.setError(""),s(e),s(t,!0))}))}(r),a&&function(e,t){e.value().trim()!==t.value().trim()?(c.push(1),t.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442")):t.error()&&t.setError("")}(t,n),c.length<1;function s(n,a){a?n.value().length>3&&n.value().length<=32?(n.error()&&n.setError(""),i(t,"password")):(n.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0442 4 \u0434\u043e 32 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),c.push(1)):n.value().length>1&&n.value().length<=16?(n.error()&&n.setError(""),i(e,"login")):(n.setError("\u041b\u043e\u0433\u0438\u043d \u043e\u0442 2 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),c.push(1))}function i(e,t){switch(t){case"login":/^[a-zA-Z](.[a-zA-Z0-9_]*)$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d"),c.push(1));break;case"password":/^[a-zA-Z0-9!@#$%^&*]{4,32}$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),c.push(1));break;default:return}}}var a={login:f.value(),password:p.value()};"reg"===n?(a.repeatedPassword=h.value(),t(f,p,h)&&x(a,"/api/users/add")):t(f,p)&&x(a,"/api/users/login")}(e)},children:[Object(u.jsx)("span",{className:"auth__close",children:"\xd7"}),Object(u.jsx)("h2",{className:"primary auth__title",children:"reg"===n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(u.jsx)(be,{label:"\u041b\u043e\u0433\u0438\u043d",name:"login",field:f}),Object(u.jsx)(be,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",field:p}),"reg"===n?Object(u.jsx)(be,{label:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeat-password",type:"password",field:h}):null,Object(u.jsx)("span",{className:"auth__error",children:j}),Object(u.jsxs)("div",{className:"auth__buttons",children:[Object(u.jsx)("button",{onClick:function(e){_(e)},className:O.join(" "),name:"reg",type:"reg"===n?"submit":"button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)("button",{onClick:function(e){_(e)},name:"auth",type:"auth"===n?"submit":"button",className:v.join(" "),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},pe=n.p+"static/media/picture.c710575b.svg";n(59);function he(e){var t=e.file,n=e.className,a=void 0===n?"":n,r=e.icon,s=void 0===r?pe:r,i=e.text,o=void 0===i?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443":i,l=e.model,j=void 0===l?"icon":l,m=e.accept,b=void 0===m?"image/*":m,f=c.a.useRef(null),p=["file-uploader"];return a&&p.push(a),Object(u.jsxs)("label",{className:p.join(" "),children:[Object(u.jsx)("input",Object(Y.a)({ref:f,accept:b,className:"file-uploader__input",type:"file"},t.bind())),"icon"===j?Object(u.jsx)(d,{onClick:function(){f.current.click()},icon:pe}):Object(u.jsxs)("div",{className:"file-uploader__inner",children:[Object(u.jsx)("img",{src:s,alt:""}),Object(u.jsx)("span",{children:o})]})]})}n(60);var Oe=function(e){var t=e.upload,n=e.size,a=void 0===n?"120px":n;return Object(u.jsxs)("div",{className:"temp-image",children:[Object(u.jsx)("img",{className:"temp-image__image",height:a,src:URL.createObjectURL(t.files(0)),alt:""}),Object(u.jsx)("span",{onClick:function(){return t.clear()},className:"close temp-image__close",children:"\xd7"})]})};n(61);function ve(){var e=Object(D.c)((function(e){return e.catalog.menu}));return Object(u.jsxs)("div",{className:"admin",children:[Object(u.jsx)("h2",{className:"admin__title",children:"ADMIN PANEL"}),e.length?Object(u.jsx)(xe,{menu:e}):null]})}function xe(e){var t=e.menu,n=Object(a.useState)([]),c=Object(K.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(t[0].component),o=Object(K.a)(i,2),l=o[0],d=o[1],j=t.filter((function(e){return e.component===l}))[0],m=te("");Object(a.useEffect)((function(){f(l)}),[l]);var b=function(){var e=Object(V.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(V.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/params/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(V.a)(L.a.mark((function e(t){var n,a,c,s,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=!0,n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"]||n.elements["\u0426\u0435\u043d\u0430"]||(a=!1),r.forEach((function(e){n.elements[e.name].value||(a=!1)})),m.files(0)){e.next=7;break}return e.abrupt("return",alert("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443!"));case 7:if(a){e.next=9;break}return e.abrupt("return",alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"));case 9:return(c=new FormData(t.target)).append("image",m.files(0)),e.prev=11,e.next=14,fetch("/api/component/add",{method:"POST",body:c});case 14:return s=e.sent,e.next=17,s.text();case 17:return i=e.sent,m.clear(),r.forEach((function(e){n.elements[e.name].value=""})),n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"].value="",n.elements["\u0426\u0435\u043d\u0430"].value="",e.abrupt("return",alert(i));case 25:e.prev=25,e.t0=e.catch(11),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[11,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"form-adder",onSubmit:function(e){return p(e)},action:"#",children:[Object(u.jsx)("select",{onChange:function(e){return b(e)},name:"component",value:l,children:t.map((function(e){return Object(u.jsx)("option",{value:e.component,children:e.name},X()())}))}),Object(u.jsx)(he,{className:"form-adder__upload",file:m,model:"txt"}),m.files(0)?Object(u.jsx)(Oe,{upload:m}):null,Object(u.jsx)(be,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(u.jsx)(be,{name:"\u0426\u0435\u043d\u0430",label:"\u0426\u0435\u043d\u0430",type:"number"}),Object(u.jsx)(be,{name:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435",type:"number"}),r.map((function(e){return Object(u.jsx)(be,{name:e.name,label:e.name},X()())})),Object(u.jsx)("div",{className:"wrapper-btn",children:Object(u.jsxs)("button",{className:"button primary form-adder__btn",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ",j.genetive]})})]})}var _e=n(65),ge=n(32),Ne=function(e){var t=e.component,n=e.admin,a=Object(ge.a)(e,["component","admin"]);return Object(u.jsx)(i.b,Object(Y.a)(Object(Y.a)({},a),{},{render:function(e){return n?Object(u.jsx)(t,Object(Y.a)({},e)):Object(u.jsx)(i.a,{to:"/"})}}))};function ke(){var e=Object(D.c)((function(e){return e.user.form})),t=Object(D.c)((function(e){return e.user.user})),n=Object(D.c)((function(e){return e.catalog.menuActive})),c=Object(a.useRef)(),r=Object(a.useRef)(),s=Object(D.b)();return Object(a.useEffect)((function(){var e=M().get();s(O(e)),$().then((function(e){e&&s(C({login:e.login,admin:e.admin}))}))}),[s]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(_e.a,{in:e,nodeRef:c,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(u.jsx)(fe,{})}),Object(u.jsx)(G,{}),Object(u.jsx)(_e.a,{in:n,nodeRef:r,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(u.jsx)(oe,{className:"mobile"})}),Object(u.jsxs)(je,{children:[Object(u.jsx)(oe,{}),Object(u.jsxs)(i.d,{children:[Object(u.jsx)(Ne,{component:ve,admin:t.admin,path:"/admin"}),Object(u.jsx)(i.b,{path:"/builder",children:Object(u.jsx)(me,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/cards/:component",children:Object(u.jsx)(ie,{})}),Object(u.jsx)(i.b,{path:"/cards/:component/:id",children:Object(u.jsx)(de,{})}),Object(u.jsx)(i.a,{from:"/",to:"/cards/cpu"})]})]})]})}n(62);s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(j.a,{children:Object(u.jsx)(D.a,{store:I,children:Object(u.jsx)(ke,{})})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.93d746e1.chunk.js.map