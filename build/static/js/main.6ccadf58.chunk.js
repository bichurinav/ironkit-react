(this.webpackJsonpironkit=this.webpackJsonpironkit||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(17),s=n.n(r),i=n(5),o=n.p+"static/media/logo.48926432.svg",u=(n(37),n(0));function l(e){var t=e.className,n=void 0===t?"":t,c=["logo"];return n&&c.push(n),Object(u.jsx)("a",{className:c.join(" "),href:"/",children:Object(u.jsx)("img",{src:o,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})})}n(39);function d(e){var t=e.icon,n=e.size,c=void 0===n?"25px":n,a=e.alt,r=void 0===a?"":a,s=e.className,i=void 0===s?"":s,o=e.onClick,l=void 0===o?function(){}:o,d=e.type,j=void 0===d?"button":d,b=["icon-btn"];return i&&b.push(i),Object(u.jsx)("button",{type:j,style:{width:c,height:c},className:b.join(" "),onClick:l,children:Object(u.jsx)("img",{className:"icon-btn__svg",src:t,alt:r})})}var j=n(10),b=n(21),m=n(18),p=Object(m.b)({name:"builder",initialState:{count:0,cards:[],activeMore:!1},reducers:{setCount:function(e,t){e.count=t.payload},setCards:function(e,t){e.cards=t.payload},setActiveMore:function(e,t){e.activeMore=t.payload}}}),f=p.actions,h=f.setCount,O=f.setCards,v=f.setActiveMore,x=p.reducer,_=Object(m.b)({name:"catalog",initialState:{cards:[],count:null,menu:[]},reducers:{setCards:function(e,t){e.cards=t.payload.components,e.count=t.payload.count},setMenu:function(e,t){e.menu=t.payload}}}),g=_.actions,N=g.setCards,k=g.setMenu,y=_.reducer,w=Object(m.b)({name:"user",initialState:{form:!1,user:{login:"",admin:!1}},reducers:{setAuth:function(e,t){e.user.login=t.payload.login,e.user.admin=t.payload.admin},setForm:function(e,t){e.form=t.payload}}}),E=w.actions,S=E.setAuth,C=E.setForm,A=w.reducer,M=Object(m.a)({reducer:{catalog:y,user:A,builder:x}});var I=function(){var e=JSON.parse(localStorage.getItem("builderCards"))||[],t=+localStorage.getItem("builderCount")||0;return{set:function(n){var c=e.filter((function(e){return e.component===n.component}))[0];if(c)return!1;if(!c){var a=[].concat(Object(b.a)(e),[n]);return localStorage.setItem("builderCards",JSON.stringify(a)),t+=1,localStorage.setItem("builderCount",t),M.dispatch(h(t)),M.dispatch(O(a)),!0}},get:function(){return e},delete:function(n){var c=e.filter((function(e){return e.component!==n.component}));localStorage.setItem("builderCards",JSON.stringify(c)),t-=1,M.dispatch(h(t)),M.dispatch(O(c)),localStorage.setItem("builderCount",t)},count:function(){return t}}},D=n(2);n(44);function J(e){var t=e.src,n=e.className,a=e.to,r=Object(D.c)((function(e){return e.builder.count})),s=Object(D.b)(),i=["button","primary","outlined","collector-btn"];return n&&i.push(n),Object(c.useEffect)((function(){var e=I().count();s(h(e))}),[s]),Object(u.jsxs)(j.c,{className:i.join(" "),to:a,children:[Object(u.jsx)("span",{className:"collector-btn__label",children:"\u0421\u0431\u043e\u0440\u0449\u0438\u043a"}),Object(u.jsxs)("div",{className:"collector-btn__icon",children:[Object(u.jsx)("img",{className:"collector-btn__img",src:t,alt:""}),Object(u.jsx)("span",{className:"collector-btn__counter",children:r})]})]})}var T=n.p+"static/media/signIn.5d0f0585.svg",z=n.p+"static/media/logout.4f1b686b.svg",F=n.p+"static/media/collector.7069e324.svg",P=n(3),U=n.n(P),L=n(6),R=function(e){var t=e.toString().split(""),n=t.length,c=0;if(n>3&&n<7){for(c=1;n-c!==3;)c++;return a(Object(b.a)(t).splice(0,c).join("")+" "+Object(b.a)(t).splice(c).join(""))}return a(e);function a(e){return"\u2248 "+e+" \u20bd"}},Z=function(){var e=Object(L.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).login){e.next=9;break}return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(L.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users/auth-exit");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!1!==(n=e.sent).auth){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),B=function(e,t){if(!I().set(e)){var n=t.filter((function(t){return t.component===e.component}))[0];alert("".concat(n.name," \u0443\u0436\u0435 \u043b\u0435\u0436\u0438\u0442 \u0432 \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435!"))}};n(47);function q(){var e=Object(D.b)(),t=Object(D.c)((function(e){return e.user.user}));return Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"header__inner container",children:[Object(u.jsxs)("div",{className:"header-block",children:[Object(u.jsx)(l,{className:"header__logo"}),Object(u.jsx)(H,{})]}),Object(u.jsxs)("div",{className:"header-block",children:[t.login?Object(u.jsx)(G,{user:t}):null,Object(u.jsx)(J,{className:"header__btn-collector",src:F,to:"/builder",alt:"collector"}),t.login?Object(u.jsx)(d,{onClick:function(){$().then((function(t){t.auth||e(S({login:"",admin:!1}))}))},className:"header__btn-acc",icon:z,alt:"leaveAuth"}):Object(u.jsx)(d,{onClick:function(){e(C(!0))},className:"header__btn-acc",icon:T,alt:"signIn"})]})]})})}function G(e){var t=e.user;return t.admin?Object(u.jsx)(j.b,{className:"header__user",to:"/admin",children:t.login}):Object(u.jsx)("span",{className:"header__user",children:t.login})}function H(){return Object(u.jsx)("nav",{className:"menu",children:Object(u.jsxs)("ul",{className:"menu__inner",children:[Object(u.jsx)("li",{className:"menu__item",children:Object(u.jsx)("a",{href:"/#",className:"menu__link",children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"})}),Object(u.jsx)("li",{className:"menu__item",children:Object(u.jsx)("a",{href:"/#",className:"menu__link",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})})]})})}var K=n(8);n(48);var Q=function(e){var t=e.className;return Object(u.jsxs)("div",{className:"load-cards ".concat(t),children:[Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"}),Object(u.jsx)("div",{className:"load-cards__card"})]})},V=n(12),W=n.n(V),X=n(13);function Y(e){var t=a.a.useState(e),n=Object(K.a)(t,2),c=n[0],r=n[1],s=a.a.useState(""),i=Object(K.a)(s,2),o=i[0],u=i[1],l=a.a.useState([]),d=Object(K.a)(l,2),j=d[0],b=d[1],m=function(e){e.target.files&&b(e.target.files),r(e.target.value)};return{bind:function(){return{value:c,onChange:m}},clear:function(){j.length&&b([]),r("")},value:function(){return c},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple";return 0===e?j[0]:j},setError:function(e){u(e)},error:function(){return o}}}var ee=n.p+"static/media/box.bce4c553.svg",te=n.p+"static/media/delete.10fd48a1.svg";n(50);function ne(e){var t=e.image,n=e.imageUpload;return Object(u.jsx)("div",{className:"card__block-image",children:Object(u.jsxs)("label",{className:"card-img-changer",children:[Object(u.jsx)("img",{className:"card__image",src:"../"+t,alt:""}),Object(u.jsx)("input",Object(X.a)(Object(X.a)({},n.bind()),{},{type:"file",accept:"image/*"}))]})})}function ce(e){var t=e.price,n=e.priceField,c=e.changePrice;return Object(u.jsx)("form",{onSubmit:function(e){return c(e)},children:Object(u.jsx)("input",Object(X.a)({className:"card__price-changer",type:"text",placeholder:t},n.bind()))})}var ae=function(e){var t=e.card,n=e.builder,a=void 0!==n&&n,r=JSON.parse(t.params),s=Object(D.b)(),o=Object(D.c)((function(e){return e.catalog.menu})),l=Object(D.c)((function(e){return e.user.user})),b=Object(D.c)((function(e){return e.builder.activeMore})),m=Y(""),p=Y(""),f=Object(i.i)().url;Object(c.useEffect)((function(){m.value()&&h(t,m)}),[m,t]);var h=function(){var e=Object(L.a)(U.a.mark((function e(t,n){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("image",n.files(0)),c.append("imageName",t.image),e.next=6,fetch("/api/component/update-image",{method:"PUT",body:c});case 6:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(L.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),!isNaN(+p.value())){e.next=4;break}return e.abrupt("return");case 4:if(t.price!==+p.value()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("/api/component/price/".concat(t.component,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({price:p.value()})});case 8:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(L.a)(U.a.mark((function e(n){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("imageName",n),e.next=5,fetch("/api/component/".concat(t.component,"/").concat(t.id),{method:"DELETE",body:c});case 5:e.sent.ok&&(window.location.href="/cards/".concat(t.component)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card__inner",children:[l.admin&&!a?Object(u.jsx)(ne,{image:t.image,imageUpload:m}):Object(u.jsx)("div",{className:"card__block-image",children:Object(u.jsx)("img",{className:"card__image",src:"../"+t.image,alt:""})}),Object(u.jsxs)("div",{className:"card__info",children:[Object(u.jsx)("h2",{className:"card__name",children:t.name}),Object(u.jsxs)("div",{className:"card__params",children:[Object(u.jsxs)("div",{className:"card__param",children:[r[0].name,": ",r[0].value]}),Object(u.jsxs)("div",{className:"card__param",children:[r[1].name,": ",r[1].value]}),Object(u.jsxs)("div",{className:"card__param",children:[r[2].name,": ",r[2].value]})]}),Object(u.jsx)(j.b,{className:"primary card__more",onClick:function(){a?b||s(v(!0)):b&&s(v(!1))},to:"".concat(a?"cards/".concat(t.component):f,"/").concat(t.id),children:"\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),l.admin&&!a?Object(u.jsx)("div",{onClick:function(){return x(t.image)},className:"card__del",children:"\xd7"}):null,l.admin&&!a?Object(u.jsx)(ce,{price:t.price,priceField:p,changePrice:O}):Object(u.jsx)("span",{className:"card__price",children:R(t.price)}),a?Object(u.jsx)(d,{className:"card__btn-del",onClick:function(){I().delete(t)},icon:te,size:30}):Object(u.jsx)(d,{className:"card__btn-box",onClick:function(){B(t,o)},icon:ee,size:40})]})})};n(51);function re(){var e=Object(i.h)().component,t=Object(D.b)(),n=Object(D.c)((function(e){return e.catalog.cards})),a=Object(c.useState)(!0),r=Object(K.a)(a,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){t(function(e){return function(){var t=Object(L.a)(U.a.mark((function t(n){var c,a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,fetch("/api/component/".concat(e));case 4:return c=t.sent,t.next=7,c.json();case 7:if(a=t.sent,c.ok){t.next=10;break}throw new Error("\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0438\u0445 \u043d\u0435\u0442!");case 10:setTimeout((function(){o(!1),n(N(a))}),300),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),o(!0),n(N([]));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[e,t]),Object(u.jsx)("div",{className:"catalog",children:Object(u.jsx)("div",{className:"catalog__inner",children:s?Object(u.jsx)(Q,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"catalog__filter"}),Object(u.jsx)("div",{className:"catalog__content",children:n.map((function(e){return Object(u.jsx)(ae,{card:e},W()())}))})]})})})}n(52);function se(){var e=Object(D.c)((function(e){return e.catalog.menu})),t=Object(D.b)();return Object(c.useEffect)((function(){t(function(){var e=Object(L.a)(U.a.mark((function e(t){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/menu");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(k(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(u.jsx)("nav",{className:"catalog-menu",children:Object(u.jsx)("ul",{className:"catalog-menu__inner",children:e.map((function(e){return Object(u.jsx)("li",{className:"catalog-menu__item",children:Object(u.jsxs)(j.c,{to:"/cards/"+e.component,children:[Object(u.jsx)("div",{className:"catalog-menu__image",children:Object(u.jsx)("img",{src:"/"+e.icon,alt:""})}),e.name]})},W()())}))})})}var ie=n.p+"static/media/load.8c920fc0.svg",oe=n.p+"static/media/back.a4f7b311.svg";n(53);var ue=function(){var e,t=Object(D.c)((function(e){return e.builder.activeMore})),n=Object(D.c)((function(e){return e.catalog.menu})),a=Object(c.useState)(null),r=Object(K.a)(a,2),s=r[0],o=r[1],l=Object(i.h)().id,j=Object(i.i)().url,b=Object(i.g)(),m=j.split("/")[2],p="/api/component/".concat(m,"/").concat(l),f=function(){var e=Object(L.a)(U.a.mark((function e(t,n,c){var a,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,a.ok){e.next=9;break}throw new Error(r.error);case 9:setTimeout((function(){o(r)}),300),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",n.push("/cards/".concat(c)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f(p,b,m)}),[b,p,m]),s?Object(u.jsxs)("div",{className:"card-detail",children:[Object(u.jsx)(d,{onClick:function(){b.goBack()},className:"card-detail__back",icon:oe,size:28}),Object(u.jsx)("h2",{className:"card-detail__name",children:s.name}),Object(u.jsxs)("div",{className:"card-detail__inner",children:[Object(u.jsxs)("div",{className:"card-detail__block",children:[Object(u.jsx)("div",{className:"card-detail__image",children:Object(u.jsx)("img",{className:"card-detail__image",src:"../../".concat(s.image),alt:""})}),Object(u.jsxs)("div",{className:"card-detail__main",children:[t?null:Object(u.jsx)("button",{onClick:function(){return B(s,n)},className:"button primary outlined in-builder",children:"\u0412 \u0441\u0431\u043e\u0440\u043a\u0443!"}),Object(u.jsxs)("div",{className:"card-detail__price",children:[Object(u.jsx)("span",{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0446\u0435\u043d\u0430"}),Object(u.jsx)("b",{className:"primary",children:R(s.price)})]})]})]}),Object(u.jsx)("div",{className:"card-detail__block params",children:Object(u.jsx)("div",{className:"card-detail__params",children:(e=JSON.parse(s.params),e.map((function(e){return Object(u.jsxs)("div",{className:"card-detail__param",children:[Object(u.jsxs)("span",{className:"param-name",children:[e.name,":"]})," ",Object(u.jsx)("span",{className:"param-value",children:e.value})]},W()())}))).map((function(e){return e}))})})]})]}):Object(u.jsx)("img",{src:ie,alt:""})};n(54);function le(e){var t=e.children;return Object(u.jsx)("main",{className:"content",children:Object(u.jsx)("div",{className:"content__inner container",children:t})})}n(55);var de=function(){var e=Object(D.c)((function(e){return e.catalog.menu})),t=Object(D.c)((function(e){return e.builder.cards})),n=Object(c.useState)([]),a=Object(K.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var n=[];e.forEach((function(e){var c=!0;t.forEach((function(t){if(t.component===e.component)return c=!1,n.push(t)})),c&&n.push(e)})),s(n)}),[e,t]),Object(u.jsx)("div",{className:"builder",children:Object(u.jsx)("div",{className:"builder-list",children:r.map((function(e){return e.params?Object(u.jsx)(ae,{card:e,builder:!0},W()()):Object(u.jsx)("div",{className:"builder__item",children:e.name},W()())}))})})};n(56);var je=function(e){var t=e.label,n=e.name,c=e.type,a=void 0===c?"text":c,r=e.placeholder,s=void 0===r?"":r,i=e.field,o=void 0===i?{bind:function(){return null},error:function(){return null}}:i;return Object(u.jsxs)("label",{className:"text-field",children:[Object(u.jsx)("span",{className:"text-field__label",children:t}),Object(u.jsx)("input",Object(X.a)({className:"input primary text-field__input",name:n,type:a,autoComplete:"on",placeholder:s},o.bind())),Object(u.jsx)("span",{className:"text-field__error",children:o.error()})]})};n(57);var be=function(){var e=Object(c.useState)("auth"),t=Object(K.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(K.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),d=Object(K.a)(l,2),j=d[0],b=d[1],m=Object(D.b)(),p=Y(""),f=Y(""),h=Y(""),O=["auth__reg-btn"],v=["auth__auth-btn"];"reg"===n&&O.push("active"),"auth"===n&&v.push("active");var x=function(){var e=Object(L.a)(U.a.mark((function e(t,n){var c,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,c.ok){e.next=9;break}throw a.message;case 9:a.auth&&(b(""),Z().then((function(e){m(S({login:e.login,admin:e.admin})),m(C(!1))}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),b(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){var t=e.target.classList.contains("active"),n=e.target.name;if(!t)return o(!1),p.error()&&p.setError(),f.error()&&f.setError(),h.error()&&h.setError(),j&&b(""),void a(n)};return Object(u.jsx)("div",{onMouseDown:function(e){return function(e){var t=e.target.className;"auth"!==t&&"auth__close"!==t||m(C(!1))}(e)},className:"auth",children:Object(u.jsxs)("form",{className:"auth__form",onSubmit:function(e){return function(e){if(e.preventDefault(),!i)return o(!0);function t(e,t,n){var c=!1,a=[],r=[e,t];return n&&(r.push(n),c=!0),function(n){n.forEach((function(n){""===n.value().trim()?(n.setError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),a.push(1)):(n.error()&&n.setError(""),s(e),s(t,!0))}))}(r),c&&function(e,t){e.value().trim()!==t.value().trim()?(a.push(1),t.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442")):t.error()&&t.setError("")}(t,n),a.length<1;function s(n,c){c?n.value().length>3&&n.value().length<=32?(n.error()&&n.setError(""),i(t,"password")):(n.setError("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0442 4 \u0434\u043e 32 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),a.push(1)):n.value().length>1&&n.value().length<=16?(n.error()&&n.setError(""),i(e,"login")):(n.setError("\u041b\u043e\u0433\u0438\u043d \u043e\u0442 2 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),a.push(1))}function i(e,t){switch(t){case"login":/^[a-zA-Z](.[a-zA-Z0-9_]*)$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d"),a.push(1));break;case"password":/^[a-zA-Z0-9!@#$%^&*]{4,32}$/.test(e.value())?e.error()&&e.setError(""):(e.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),a.push(1));break;default:return}}}var c={login:p.value(),password:f.value()};"reg"===n?(c.repeatedPassword=h.value(),t(p,f,h)&&x(c,"/api/users/add")):t(p,f)&&x(c,"/api/users/login")}(e)},children:[Object(u.jsx)("span",{className:"auth__close",children:"\xd7"}),Object(u.jsx)("h2",{className:"primary auth__title",children:"reg"===n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(u.jsx)(je,{label:"\u041b\u043e\u0433\u0438\u043d",name:"login",field:p}),Object(u.jsx)(je,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",field:f}),"reg"===n?Object(u.jsx)(je,{label:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"repeat-password",type:"password",field:h}):null,Object(u.jsx)("span",{className:"auth__error",children:j}),Object(u.jsxs)("div",{className:"auth__buttons",children:[Object(u.jsx)("button",{onClick:function(e){_(e)},className:O.join(" "),name:"reg",type:"reg"===n?"submit":"button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)("button",{onClick:function(e){_(e)},name:"auth",type:"auth"===n?"submit":"button",className:v.join(" "),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},me=n.p+"static/media/picture.c710575b.svg";n(58);function pe(e){var t=e.file,n=e.className,c=void 0===n?"":n,r=e.icon,s=void 0===r?me:r,i=e.text,o=void 0===i?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443":i,l=e.model,j=void 0===l?"icon":l,b=e.accept,m=void 0===b?"image/*":b,p=a.a.useRef(null),f=["file-uploader"];return c&&f.push(c),Object(u.jsxs)("label",{className:f.join(" "),children:[Object(u.jsx)("input",Object(X.a)({ref:p,accept:m,className:"file-uploader__input",type:"file"},t.bind())),"icon"===j?Object(u.jsx)(d,{onClick:function(){p.current.click()},icon:me}):Object(u.jsxs)("div",{className:"file-uploader__inner",children:[Object(u.jsx)("img",{src:s,alt:""}),Object(u.jsx)("span",{children:o})]})]})}n(59);var fe=function(e){var t=e.upload,n=e.size,c=void 0===n?"120px":n;return Object(u.jsxs)("div",{className:"temp-image",children:[Object(u.jsx)("img",{className:"temp-image__image",height:c,src:URL.createObjectURL(t.files(0)),alt:""}),Object(u.jsx)("span",{onClick:function(){return t.clear()},className:"close temp-image__close",children:"\xd7"})]})};n(60);function he(){var e=Object(D.c)((function(e){return e.catalog.menu}));return Object(u.jsxs)("div",{className:"admin",children:[Object(u.jsx)("h2",{className:"admin__title",children:"ADMIN PANEL"}),e.length?Object(u.jsx)(Oe,{menu:e}):null]})}function Oe(e){var t=e.menu,n=Object(c.useState)([]),a=Object(K.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(t[0].component),o=Object(K.a)(i,2),l=o[0],d=o[1],j=t.filter((function(e){return e.component===l}))[0],b=Y("");Object(c.useEffect)((function(){p(l)}),[l]);var m=function(){var e=Object(L.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(L.a)(U.a.mark((function e(t){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/params/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(L.a)(U.a.mark((function e(t){var n,c,a,s,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,c=!0,n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"]||n.elements["\u0426\u0435\u043d\u0430"]||(c=!1),r.forEach((function(e){n.elements[e.name].value||(c=!1)})),b.files(0)){e.next=7;break}return e.abrupt("return",alert("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443!"));case 7:if(c){e.next=9;break}return e.abrupt("return",alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!"));case 9:return(a=new FormData(t.target)).append("image",b.files(0)),e.prev=11,e.next=14,fetch("/api/component/add",{method:"POST",body:a});case 14:return s=e.sent,e.next=17,s.text();case 17:return i=e.sent,b.clear(),r.forEach((function(e){n.elements[e.name].value=""})),n.elements["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"].value="",n.elements["\u0426\u0435\u043d\u0430"].value="",e.abrupt("return",alert(i));case 25:e.prev=25,e.t0=e.catch(11),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[11,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{className:"form-adder",onSubmit:function(e){return f(e)},action:"#",children:[Object(u.jsx)("select",{onChange:function(e){return m(e)},name:"component",value:l,children:t.map((function(e){return Object(u.jsx)("option",{value:e.component,children:e.name},W()())}))}),Object(u.jsx)(pe,{className:"form-adder__upload",file:b,model:"txt"}),b.files(0)?Object(u.jsx)(fe,{upload:b}):null,Object(u.jsx)(je,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(u.jsx)(je,{name:"\u0426\u0435\u043d\u0430",label:"\u0426\u0435\u043d\u0430",type:"number"}),r.map((function(e){return Object(u.jsx)(je,{name:e.name,label:e.name},W()())})),Object(u.jsx)("div",{className:"wrapper-btn",children:Object(u.jsxs)("button",{className:"button primary form-adder__btn",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ",j.genetive]})})]})}var ve=n(64),xe=n(31),_e=function(e){var t=e.component,n=e.admin,c=Object(xe.a)(e,["component","admin"]);return Object(u.jsx)(i.b,Object(X.a)(Object(X.a)({},c),{},{render:function(e){return n?Object(u.jsx)(t,Object(X.a)({},e)):Object(u.jsx)(i.a,{to:"/"})}}))};function ge(){var e=Object(D.c)((function(e){return e.user.form})),t=Object(D.c)((function(e){return e.user.user})),n=Object(c.useRef)(),a=Object(D.b)();return Object(c.useEffect)((function(){var e=I().get();a(O(e)),Z().then((function(e){e&&a(S({login:e.login,admin:e.admin}))}))}),[a]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(ve.a,{in:e,nodeRef:n,timeout:300,classNames:"fade",unmountOnExit:!0,children:Object(u.jsx)(be,{})}),Object(u.jsx)(q,{}),Object(u.jsxs)(le,{children:[Object(u.jsx)(se,{}),Object(u.jsxs)(i.d,{children:[Object(u.jsx)(_e,{component:he,admin:t.admin,path:"/admin"}),Object(u.jsx)(i.b,{path:"/builder",children:Object(u.jsx)(de,{})}),Object(u.jsx)(i.b,{exact:!0,path:"/cards/:component",children:Object(u.jsx)(re,{})}),Object(u.jsx)(i.b,{path:"/cards/:component/:id",children:Object(u.jsx)(ue,{})}),Object(u.jsx)(i.a,{from:"/",to:"/cards/cpu"})]})]})]})}n(61);s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j.a,{children:Object(u.jsx)(D.a,{store:M,children:Object(u.jsx)(ge,{})})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.6ccadf58.chunk.js.map